(function(t){function e(e){for(var a,o,r=e[0],c=e[1],l=e[2],u=0,g=[];u<r.length;u++)o=r[u],s[o]&&g.push(s[o][0]),s[o]=0;for(a in c)Object.prototype.hasOwnProperty.call(c,a)&&(t[a]=c[a]);d&&d(e);while(g.length)g.shift()();return i.push.apply(i,l||[]),n()}function n(){for(var t,e=0;e<i.length;e++){for(var n=i[e],a=!0,o=1;o<n.length;o++){var c=n[o];0!==s[c]&&(a=!1)}a&&(i.splice(e--,1),t=r(r.s=n[0]))}return t}var a={},s={app:0},i=[];function o(t){return r.p+"js/"+({about:"about"}[t]||t)+"."+{about:"a0b59560"}[t]+".js"}function r(e){if(a[e])return a[e].exports;var n=a[e]={i:e,l:!1,exports:{}};return t[e].call(n.exports,n,n.exports,r),n.l=!0,n.exports}r.e=function(t){var e=[],n=s[t];if(0!==n)if(n)e.push(n[2]);else{var a=new Promise(function(e,a){n=s[t]=[e,a]});e.push(n[2]=a);var i,c=document.getElementsByTagName("head")[0],l=document.createElement("script");l.charset="utf-8",l.timeout=120,r.nc&&l.setAttribute("nonce",r.nc),l.src=o(t),i=function(e){l.onerror=l.onload=null,clearTimeout(u);var n=s[t];if(0!==n){if(n){var a=e&&("load"===e.type?"missing":e.type),i=e&&e.target&&e.target.src,o=new Error("Loading chunk "+t+" failed.\n("+a+": "+i+")");o.type=a,o.request=i,n[1](o)}s[t]=void 0}};var u=setTimeout(function(){i({type:"timeout",target:l})},12e4);l.onerror=l.onload=i,c.appendChild(l)}return Promise.all(e)},r.m=t,r.c=a,r.d=function(t,e,n){r.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},r.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},r.t=function(t,e){if(1&e&&(t=r(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var a in t)r.d(n,a,function(e){return t[e]}.bind(null,a));return n},r.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return r.d(e,"a",e),e},r.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},r.p="/",r.oe=function(t){throw console.error(t),t};var c=window["webpackJsonp"]=window["webpackJsonp"]||[],l=c.push.bind(c);c.push=e,c=c.slice();for(var u=0;u<c.length;u++)e(c[u]);var d=l;i.push([0,"chunk-vendors"]),n()})({0:function(t,e,n){t.exports=n("56d7")},"01cd":function(t,e,n){"use strict";var a=n("e7e1"),s=n.n(a);s.a},"077e":function(t,e,n){"use strict";var a=n("34d1"),s=n.n(a);s.a},"0c8f":function(t,e,n){"use strict";var a=n("d14b"),s=n.n(a);s.a},"0fdc":function(t,e,n){},"15db":function(t,e,n){"use strict";var a=n("a1e0"),s=n.n(a);s.a},"1e8b":function(t,e,n){"use strict";var a=n("d890"),s=n.n(a);s.a},"1f10":function(t,e,n){"use strict";var a=n("b824"),s=n.n(a);s.a},2611:function(t,e,n){},"27f1":function(t,e,n){},2856:function(t,e,n){},"2e08":function(t,e,n){"use strict";var a=n("7924"),s=n.n(a);s.a},"2e91":function(t,e,n){},"2ec5":function(t,e,n){"use strict";var a=n("3189"),s=n.n(a);s.a},3189:function(t,e,n){},3201:function(t,e,n){"use strict";var a=n("52a4"),s=n.n(a);s.a},3435:function(t,e,n){"use strict";var a=n("6d51"),s=n.n(a);s.a},"34d1":function(t,e,n){},3598:function(t,e,n){},3690:function(t,e,n){},4221:function(t,e,n){"use strict";var a=n("27f1"),s=n.n(a);s.a},4333:function(t,e,n){"use strict";var a=n("d848"),s=n.n(a);s.a},"461e":function(t,e,n){"use strict";var a=n("d01a"),s=n.n(a);s.a},4678:function(t,e,n){var a={"./af":"2bfb","./af.js":"2bfb","./ar":"8e73","./ar-dz":"a356","./ar-dz.js":"a356","./ar-kw":"423e","./ar-kw.js":"423e","./ar-ly":"1cfd","./ar-ly.js":"1cfd","./ar-ma":"0a84","./ar-ma.js":"0a84","./ar-sa":"8230","./ar-sa.js":"8230","./ar-tn":"6d83","./ar-tn.js":"6d83","./ar.js":"8e73","./az":"485c","./az.js":"485c","./be":"1fc1","./be.js":"1fc1","./bg":"84aa","./bg.js":"84aa","./bm":"a7fa","./bm.js":"a7fa","./bn":"9043","./bn.js":"9043","./bo":"d26a","./bo.js":"d26a","./br":"6887","./br.js":"6887","./bs":"2554","./bs.js":"2554","./ca":"d716","./ca.js":"d716","./cs":"3c0d","./cs.js":"3c0d","./cv":"03ec","./cv.js":"03ec","./cy":"9797","./cy.js":"9797","./da":"0f14","./da.js":"0f14","./de":"b469","./de-at":"b3eb","./de-at.js":"b3eb","./de-ch":"bb71","./de-ch.js":"bb71","./de.js":"b469","./dv":"598a","./dv.js":"598a","./el":"8d47","./el.js":"8d47","./en-au":"0e6b","./en-au.js":"0e6b","./en-ca":"3886","./en-ca.js":"3886","./en-gb":"39a6","./en-gb.js":"39a6","./en-ie":"e1d3","./en-ie.js":"e1d3","./en-il":"7333","./en-il.js":"7333","./en-nz":"6f50","./en-nz.js":"6f50","./eo":"65db","./eo.js":"65db","./es":"898b","./es-do":"0a3c","./es-do.js":"0a3c","./es-us":"55c9","./es-us.js":"55c9","./es.js":"898b","./et":"ec18","./et.js":"ec18","./eu":"0ff2","./eu.js":"0ff2","./fa":"8df4","./fa.js":"8df4","./fi":"81e9","./fi.js":"81e9","./fo":"0721","./fo.js":"0721","./fr":"9f26","./fr-ca":"d9f8","./fr-ca.js":"d9f8","./fr-ch":"0e49","./fr-ch.js":"0e49","./fr.js":"9f26","./fy":"7118","./fy.js":"7118","./gd":"f6b4","./gd.js":"f6b4","./gl":"8840","./gl.js":"8840","./gom-latn":"0caa","./gom-latn.js":"0caa","./gu":"e0c5","./gu.js":"e0c5","./he":"c7aa","./he.js":"c7aa","./hi":"dc4d","./hi.js":"dc4d","./hr":"4ba9","./hr.js":"4ba9","./hu":"5b14","./hu.js":"5b14","./hy-am":"d6b6","./hy-am.js":"d6b6","./id":"5038","./id.js":"5038","./is":"0558","./is.js":"0558","./it":"6e98","./it.js":"6e98","./ja":"079e","./ja.js":"079e","./jv":"b540","./jv.js":"b540","./ka":"201b","./ka.js":"201b","./kk":"6d79","./kk.js":"6d79","./km":"e81d","./km.js":"e81d","./kn":"3e92","./kn.js":"3e92","./ko":"22f8","./ko.js":"22f8","./ky":"9609","./ky.js":"9609","./lb":"440c","./lb.js":"440c","./lo":"b29d","./lo.js":"b29d","./lt":"26f9","./lt.js":"26f9","./lv":"b97c","./lv.js":"b97c","./me":"293c","./me.js":"293c","./mi":"688b","./mi.js":"688b","./mk":"6909","./mk.js":"6909","./ml":"02fb","./ml.js":"02fb","./mn":"958b","./mn.js":"958b","./mr":"39bd","./mr.js":"39bd","./ms":"ebe4","./ms-my":"6403","./ms-my.js":"6403","./ms.js":"ebe4","./mt":"1b45","./mt.js":"1b45","./my":"8689","./my.js":"8689","./nb":"6ce3","./nb.js":"6ce3","./ne":"3a39","./ne.js":"3a39","./nl":"facd","./nl-be":"db29","./nl-be.js":"db29","./nl.js":"facd","./nn":"b84c","./nn.js":"b84c","./pa-in":"f3ff","./pa-in.js":"f3ff","./pl":"8d57","./pl.js":"8d57","./pt":"f260","./pt-br":"d2d4","./pt-br.js":"d2d4","./pt.js":"f260","./ro":"972c","./ro.js":"972c","./ru":"957c","./ru.js":"957c","./sd":"6784","./sd.js":"6784","./se":"ffff","./se.js":"ffff","./si":"eda5","./si.js":"eda5","./sk":"7be6","./sk.js":"7be6","./sl":"8155","./sl.js":"8155","./sq":"c8f3","./sq.js":"c8f3","./sr":"cf1e","./sr-cyrl":"13e9","./sr-cyrl.js":"13e9","./sr.js":"cf1e","./ss":"52bd","./ss.js":"52bd","./sv":"5fbd","./sv.js":"5fbd","./sw":"74dc","./sw.js":"74dc","./ta":"3de5","./ta.js":"3de5","./te":"5cbb","./te.js":"5cbb","./tet":"576c","./tet.js":"576c","./tg":"3b1b","./tg.js":"3b1b","./th":"10e8","./th.js":"10e8","./tl-ph":"0f38","./tl-ph.js":"0f38","./tlh":"cf75","./tlh.js":"cf75","./tr":"0e81","./tr.js":"0e81","./tzl":"cf51","./tzl.js":"cf51","./tzm":"c109","./tzm-latn":"b53d","./tzm-latn.js":"b53d","./tzm.js":"c109","./ug-cn":"6117","./ug-cn.js":"6117","./uk":"ada2","./uk.js":"ada2","./ur":"5294","./ur.js":"5294","./uz":"2e8c","./uz-latn":"010e","./uz-latn.js":"010e","./uz.js":"2e8c","./vi":"2921","./vi.js":"2921","./x-pseudo":"fd7e","./x-pseudo.js":"fd7e","./yo":"7f33","./yo.js":"7f33","./zh-cn":"5c3a","./zh-cn.js":"5c3a","./zh-hk":"49ab","./zh-hk.js":"49ab","./zh-tw":"90ea","./zh-tw.js":"90ea"};function s(t){var e=i(t);return n(e)}function i(t){var e=a[t];if(!(e+1)){var n=new Error("Cannot find module '"+t+"'");throw n.code="MODULE_NOT_FOUND",n}return e}s.keys=function(){return Object.keys(a)},s.resolve=i,t.exports=s,s.id="4678"},"52a4":function(t,e,n){},"560d":function(t,e,n){"use strict";var a=n("bf88"),s=n.n(a);s.a},"56d7":function(t,e,n){"use strict";n.r(e);n("cadf"),n("551c"),n("097d");var a=n("2b0e"),s=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{attrs:{id:"app"}},[n("router-view")],1)},i=[],o=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("nav",{staticClass:"navbar navbar-expand-lg navbar-dark bg-primary"},[n("div",{staticClass:"container"},[n("router-link",{staticClass:"navbar-brand",attrs:{to:"/dashboard"}},[t._v("CashWise")]),t._m(0),n("div",{staticClass:"collapse navbar-collapse",attrs:{id:"navbarColor01"}},[n("ul",{staticClass:"navbar-nav ml-auto"},[n("li",{staticClass:"nav-item"},[n("router-link",{staticClass:"nav-link",attrs:{to:"/dashboard/listings",exact:""}},[t._v("Listings")])],1),n("li",{staticClass:"nav-item"},[n("router-link",{staticClass:"nav-link",attrs:{to:"/dashboard/account-settings",exact:""}},[t._v("Account Settings")])],1),n("li",{staticClass:"nav-item",on:{click:t.logout}},[n("router-link",{staticClass:"nav-link",attrs:{to:"/",exact:""}},[t._v("Logout")])],1)])])],1)])},r=[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("button",{staticClass:"navbar-toggler",attrs:{type:"button","data-toggle":"collapse","data-target":"#navbarColor01","aria-controls":"navbarColor01","aria-expanded":"false","aria-label":"Toggle navigation"}},[n("span",{staticClass:"navbar-toggler-icon"})])}],c={name:"Navbar",methods:{logout:function(){this.$store.dispatch("logout")}}},l=c,u=(n("7d2e"),n("2877")),d=Object(u["a"])(l,o,r,!1,null,"33e3f694",null);d.options.__file="Navbar.vue";var g=d.exports,m=(n("c5ec"),n("079a"),{components:{Navbar:g},created:function(){this.$store.dispatch("tryAutoLogin");var t=this.$store.getters.isAuthenticated;t&&this.$router.push("/dashboard")}}),f=m,p=(n("5c0b"),Object(u["a"])(f,s,i,!1,null,null,null));p.options.__file="App.vue";var h=p.exports,v=n("8c4f"),b=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"login-page"},[n("div",{staticClass:"container h-100"},[n("div",{staticClass:"row d-flex justify-content-center align-items-center h-100"},[t._m(0),n("div",{staticClass:"col-md-6"},[n("div",{staticClass:"d-flex justify-content-start"},[n("button",{staticClass:"btn",class:["Login"===t.activeLink?"btn-light":"btn-primary"],on:{click:function(e){t.changeForm("Login")}}},[t._v("Login")]),n("button",{staticClass:"btn",class:["Register"===t.activeLink?"btn-light":"btn-primary"],on:{click:function(e){t.changeForm("Register")}}},[t._v("Register")])]),n("login",{attrs:{active:t.activeLink}})],1)])])])},y=[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"col-md-6 login-page__text"},[n("h1",{staticClass:"text-white"},[t._v("CashWise")]),n("h4",{staticClass:"text-white"},[t._v("Lorem ipsum dolor sit amet, consectetur adipisicing elit. Alias, assumenda culpa et modi nulla pariatur porro rem sequi temporibus unde!")])])}],_=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"card border-0"},[n("div",{staticClass:"card-body"},[n("auth-form",{attrs:{active:t.active}})],1)])},C=[],k=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"form-group mb-0"},[n("label",{staticClass:"text-left",attrs:{for:"authFormEmail"}},[t._v("Email")]),n("input",{directives:[{name:"model",rawName:"v-model",value:t.email,expression:"email"}],staticClass:"form-control mb-2",class:{"is-invalid":t.emailError.error},attrs:{type:"email",id:"authFormEmail",placeholder:"Email"},domProps:{value:t.email},on:{input:function(e){e.target.composing||(t.email=e.target.value)}}}),t.emailError.error?n("div",{staticClass:"invalid-feedback"},[t._v(t._s(t.emailError.errorMsg))]):t._e(),n("label",{attrs:{for:"authFormPass"}},[t._v("Password")]),n("input",{directives:[{name:"model",rawName:"v-model",value:t.password,expression:"password"}],staticClass:"form-control mb-2",class:{"is-invalid":t.passwordError.error},attrs:{type:"password",id:"authFormPass",placeholder:"Password"},domProps:{value:t.password},on:{input:function(e){e.target.composing||(t.password=e.target.value)}}}),t.passwordError.error?n("div",{staticClass:"invalid-feedback"},[t._v(t._s(t.passwordError.errorMsg))]):t._e(),"Register"===t.active?n("label",{attrs:{for:"authFormname"}},[t._v("Name")]):t._e(),"Register"===t.active?n("input",{directives:[{name:"model",rawName:"v-model",value:t.name,expression:"name"}],staticClass:"form-control",class:{"is-invalid":t.nameError.error},attrs:{type:"text",id:"authFormname",placeholder:"Name"},domProps:{value:t.name},on:{input:function(e){e.target.composing||(t.name=e.target.value)}}}):t._e(),t.nameError.error?n("div",{staticClass:"invalid-feedback"},[t._v(t._s(t.nameError.errorMsg))]):t._e(),n("button",{staticClass:"btn btn-primary btn-lg btn-block mt-4",attrs:{type:"button"},on:{click:t.submit}},[t._v(t._s(t.active))])])},x=[],w=(n("7f7f"),n("f90c")),B=n.n(w),j=function(t,e){var n={errorMsg:"",error:!1};return"email"===e&&(B.a.isEmail(t)||(n.errorMsg="Please add a valid email",n.error=!0),B.a.isEmpty(t)&&(n.errorMsg="Email field is required",n.error=!0)),"password"===e&&(B.a.isLength(t,{min:6,max:32})||(n.errorMsg="Please add a password between 6 and 32 characters",n.error=!0),B.a.isEmpty(t)&&(n.errorMsg="Password is required",n.error=!0)),"text"===e&&B.a.isEmpty(t)&&(n.errorMsg="This field can not be empty",n.error=!0),"number"===e&&(parseFloat(t)<=0&&(n.errorMsg="This value must be bigger than 0",n.error=!0),B.a.isEmpty(t)&&(n.errorMsg="Password is required",n.error=!0)),n},I={name:"AuthForm",props:{active:{type:String,default:"Login"}},data:function(){return{email:"",password:"",name:"",emailError:{errorMsg:"",error:!1},passwordError:{errorMsg:"",error:!1},nameError:{errorMsg:"",error:!1}}},watch:{active:function(){this.emailError={errorMsg:"",error:!1},this.passwordError={errorMsg:"",error:!1}}},methods:{submit:function(){var t=this;this.emailError=j(this.email,"email"),this.passwordError=j(this.password,"password"),this.emailError.error||this.passwordError.error||this.nameError.error||("Login"===this.active?this.$store.dispatch("login",{email:this.email,password:this.password}).then(function(e){return t.$router.push("/dashboard")}):"Register"===this.active&&this.$store.dispatch("register",{email:this.email,password:this.password,name:this.name}).then(function(e){return t.$router.push("/dashboard")}))}}},M=I,E=(n("c990"),Object(u["a"])(M,k,x,!1,null,"40261594",null));E.options.__file="AuthForm.vue";var $=E.exports,D={name:"Login",components:{AuthForm:$},props:{active:{type:String,default:"login"}}},L=D,S=(n("f106"),Object(u["a"])(L,_,C,!1,null,"1cb1c4f2",null));S.options.__file="Login.vue";var P=S.exports,N={name:"LoginPage",components:{Login:P},data:function(){return{activeLink:"Login"}},methods:{changeForm:function(t){this.activeLink=t}}},A=N,O=(n("1e8b"),Object(u["a"])(A,b,y,!1,null,"c81232e0",null));O.options.__file="LoginPage.vue";var T=O.exports,G=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"dashboard"},[n("navbar"),n("router-view"),n("infobar"),n("div",{staticClass:"dashboard__background"})],1)},U=[],F=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"container"},[n("div",{staticClass:"row"},[n("div",{staticClass:"col-md-12 bg-white shadow my-5 py-3"},[n("div",{},[t.loading?n("div",[n("h2",[t._v("Loading")])]):n("div",[n("budget-header"),n("div",{staticClass:"d-flex justify-content-between mt-4"},[n("ul",{staticClass:"d-flex p-0"},[n("li",{},[n("router-link",{staticClass:"nav-link",attrs:{to:"/dashboard/listings/"+t.id+"/budget"}},[t._v("Budget")])],1),n("li",{},[n("router-link",{staticClass:"nav-link",attrs:{to:"/dashboard/listings/"+t.id+"/planned-budgets"}},[t._v("Planned budgets")])],1),n("li",{},[n("router-link",{staticClass:"nav-link",attrs:{to:"/dashboard/listings/"+t.id+"/goals"}},[t._v("Goals")])],1),n("li",{},[n("router-link",{staticClass:"nav-link",attrs:{to:"/dashboard/listings/"+t.id+"/charts"}},[t._v("Charts")])],1),n("li",{},[n("router-link",{staticClass:"nav-link",attrs:{to:"/dashboard/listings/"+t.id+"/calculator"}},[t._v("Calculator")])],1)]),n("div",[n("button",{staticClass:"btn btn-primary mr-2",on:{click:t.openBudgetControlModal}},[t._v("Add Budget")]),n("button",{staticClass:"btn btn-primary mr-2",on:{click:t.openPlannedBudgetModal}},[t._v("Add Planned Budget")]),n("button",{staticClass:"btn btn-primary",on:{click:t.openGoalModal}},[t._v("Add Goal")])])]),n("router-view"),n("budget-control-modal",{attrs:{title:"Add Budget",show:t.budgetControlModalShow},on:{close:t.openBudgetControlModal}}),n("planned-budget-modal",{attrs:{show:t.plannedBudgetModalShow},on:{close:t.openPlannedBudgetModal}}),n("goal-modal",{attrs:{show:t.goalModalShow},on:{close:t.openGoalModal}})],1)])])])])},V=[],Y=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"d-flex flex-column align-items-center"},[n("div",{staticClass:"d-flex justify-content-around w-100 border-bottom pb-2"},[n("h5",[t._v(t._s(t.listing.name))]),n("h5",[t._v(t._s(t.listing.bankName))]),n("h5",[t._v(t._s(t.listing.bankAccountNumber))])]),n("hr"),n("h3",{staticClass:"text-center"},[t._v("Available Budget in "+t._s(t.date)+":")]),n("h2",{staticClass:"text-center"},[t._v(t._s(t.budget))]),n("div",{staticClass:"d-flex"},[n("div",{staticClass:"d-flex justify-content-between bg-primary mr-3 p-2"},[n("p",{staticClass:"text-white mb-0 mr-3"},[t._v("Income: ")]),n("p",{staticClass:"text-white mb-0"},[t._v(t._s(t.income))])]),n("div",{staticClass:"d-flex justify-content-between bg-warning mr-3 p-2"},[n("p",{staticClass:"text-white mb-0 mr-3"},[t._v("Expenses: ")]),n("p",{staticClass:"text-white mb-0"},[t._v(t._s(t.expenses))])]),n("div",{staticClass:"d-flex justify-content-between bg-success p-2"},[n("p",{staticClass:"text-white mb-0 mr-3"},[t._v("Planned this month: ")]),n("p",{staticClass:"text-white mb-0"},[t._v(t._s(t.plannedBudget))])])])])},W=[],z=(n("ac6a"),["January","February","March","April","May","June","July","August","September","October","November","December"]),R={name:"BudgetHeader",data:function(){return{date:"".concat(z[(new Date).getMonth()]," ").concat((new Date).getFullYear())}},computed:{budget:function(){return(this.income-this.expenses).toLocaleString()},income:function(){return this.$store.getters.getIncome},expenses:function(){return this.$store.getters.getExpense},listing:function(){return this.$store.getters.getListing(this.$route.params.id)},plannedBudgets:function(){return this.$store.getters.getUserPlannedBudgets},plannedBudget:function(){var t=0;return this.plannedBudgets.filter(function(t){return new Date(t.date).getMonth()===(new Date).getMonth()}).forEach(function(e){var n=e.subscription,a="-"===e.budget?-1*parseInt(e.value):parseInt(e.value);"One time"===n?t+=parseInt(a):"Weekly"===n?t+=4*parseInt(a):"Daily"===n?t+=31*parseInt(a):"Monthly"===n?t+=parseInt(a):"Yearly"===n&&(t+=parseFloat(a)/12)}),t}}},q=R,J=(n("2e08"),Object(u["a"])(q,Y,W,!1,null,"e9dd5b94",null));J.options.__file="BudgetHeader.vue";var K=J.exports,Q=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"bg-white p-3"},[n("div",{staticClass:"d-flex justify-content-between"},[n("h5",{staticClass:"m-0"},[t._v("Add Budget")]),n("span",{staticClass:"close",on:{click:function(e){t.$emit("close")}}},[n("i",{staticClass:"material-icons"},[t._v("clear")])])]),n("hr"),n("form",{staticClass:"budget-control"},[n("datepicker",{staticClass:"date mb-3",attrs:{"wrapper-class":"datepicker","input-class":"w-100 px-2",placeholder:"Date"},model:{value:t.budget.date,callback:function(e){t.$set(t.budget,"date",e)},expression:"budget.date"}}),n("select",{directives:[{name:"model",rawName:"v-model",value:t.budget.amplitude,expression:"budget.amplitude"}],staticClass:"expense custom-select mb-3",attrs:{id:"expense"},on:{change:function(e){var n=Array.prototype.filter.call(e.target.options,function(t){return t.selected}).map(function(t){var e="_value"in t?t._value:t.value;return e});t.$set(t.budget,"amplitude",e.target.multiple?n:n[0])}}},[n("option",[t._v("-")]),n("option",[t._v("+")])]),n("input",{directives:[{name:"model",rawName:"v-model",value:t.budget.description,expression:"budget.description"}],staticClass:"desc form-control mb-3",attrs:{type:"text",placeholder:"Add Description"},domProps:{value:t.budget.description},on:{input:function(e){e.target.composing||t.$set(t.budget,"description",e.target.value)}}}),n("input",{directives:[{name:"model",rawName:"v-model",value:t.budget.value,expression:"budget.value"}],staticClass:"value form-control mb-3",attrs:{type:"number",min:"0",placeholder:"Value"},domProps:{value:t.budget.value},on:{input:function(e){e.target.composing||t.$set(t.budget,"value",e.target.value)}}}),t.categories.length?n("select",{directives:[{name:"model",rawName:"v-model",value:t.budget.category,expression:"budget.category"}],staticClass:"category custom-select mb-3",attrs:{id:"category"},on:{change:function(e){var n=Array.prototype.filter.call(e.target.options,function(t){return t.selected}).map(function(t){var e="_value"in t?t._value:t.value;return e});t.$set(t.budget,"category",e.target.multiple?n:n[0])}}},[n("option",{attrs:{disabled:""}},[t._v("Categories")]),t._l(t.categories,function(e,a){return n("option",{key:a},[t._v(t._s(e.label))])})],2):t._e(),t.keyString?n("select",{directives:[{name:"model",rawName:"v-model",value:t.listing,expression:"listing"}],staticClass:"category custom-select mb-3",attrs:{id:"listings"},on:{change:function(e){var n=Array.prototype.filter.call(e.target.options,function(t){return t.selected}).map(function(t){var e="_value"in t?t._value:t.value;return e});t.listing=e.target.multiple?n:n[0]}}},[n("option",{attrs:{disabled:""}},[t._v("Listings")]),t._l(t.listings,function(e,a){return n("option",{key:a},[t._v(t._s(e.name))])})],2):t._e(),n("button",{staticClass:"btn btn-block",class:t.buttonColor,attrs:{type:"button"},on:{click:t.add}},[t._v(t._s(t.buttonText))])],1)])},H=[],X=(n("7514"),n("c93e")),Z=n("fa33"),tt={name:"BudgetControl",components:{Datepicker:Z["a"]},props:{keyString:{type:String,default:""},budgetType:{type:String,default:""}},created:function(){this.keyString&&("income"===this.budgetType?(this.budget=Object(X["a"])({},this.$store.getters.getUserIncome(this.keyString)),this.budget.amplitude="+"):(this.budget=Object(X["a"])({},this.$store.getters.getUserExpense(this.keyString)),this.budget.amplitude="-"),this.listing=this.originalListing.name)},computed:{categories:function(){return this.$store.getters.getCategories},buttonText:function(){var t=this.keyString?"Edit":"Add";return"-"===this.budget.amplitude?"".concat(t," Expense"):"".concat(t," Income")},buttonColor:function(){return"-"===this.budget.amplitude?"btn-warning":"btn-primary"},listingId:function(){return this.$route.params.id},listings:function(){return this.$store.getters.getListings},selectedListing:function(){var t=this;return this.listings.find(function(e){return e.name===t.listing})},originalListing:function(){return this.$store.getters.getListing(this.listingId)},modifiedListing:function(){return!!this.keyString&&this.originalListing.name!==this.listing}},data:function(){return{budget:{amplitude:"-",description:"",value:"",category:"Categories",date:new Date},descriptionError:{descriptionMsg:"",error:!1},valueError:{valueMsg:"",error:!1},categoryError:{categoryMsg:"",error:!1},dateError:{dateMsg:"",error:!1},listing:""}},methods:{add:function(){var t=this;this.descriptionError=j(this.budget.description,"text"),this.valueError=j(this.budget.value,"number"),this.descriptionError.error||this.valueError.error||"Categories"===this.budget.category||("+"===this.budget.amplitude?this.keyString&&!this.modifiedListing?this.$store.dispatch("editIncome",{income:this.budget,listingId:this.listingId}).then(function(e){t.$emit("close")}):this.modifiedListing?this.$store.dispatch("moveIncome",{income:this.budget,fromListing:this.listingId,toListing:this.selectedListing.key}).then(function(e){t.$emit("close")}):this.$store.dispatch("addIncome",{income:this.budget,listingId:this.listingId}).then(function(e){t.$emit("close")}):this.keyString&&!this.modifiedListing?this.$store.dispatch("editExpense",{expense:this.budget,listingId:this.listingId}).then(function(e){return t.$emit("close")}):this.modifiedListing?this.$store.dispatch("moveExpense",{expense:this.budget,fromListing:this.listingId,toListing:this.selectedListing.key}).then(function(e){t.$emit("close")}):this.$store.dispatch("addExpense",{expense:this.budget,listingId:this.listingId}).then(function(e){t.$emit("close")}))}}},et=tt,nt=(n("0c8f"),Object(u["a"])(et,Q,H,!1,null,null,null));nt.options.__file="BudgetControl.vue";var at=nt.exports,st=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"row"},[t.incomes.length||t.expenses.length?[n("div",{staticClass:"col-lg-6"},[n("budget-list-item",{attrs:{budget:"income",array:t.incomes},on:{deleteItem:t.deleteBudget,editItem:t.editBudget}})],1),n("div",{staticClass:"col-lg-6"},[n("budget-list-item",{attrs:{budget:"expenses",array:t.expenses},on:{deleteItem:t.deleteBudget,editItem:t.editBudget}})],1)]:n("div",{staticClass:"col-lg-12 mt-5"},[n("h4",{staticClass:"text-center"},[t._v("No Incomes or Expenses")])]),n("confirm-modal",{attrs:{show:t.confirmModalShow,title:"Do you want to delete this income?","cancel-text":"Cancel","confirm-text":"Delete",text:"This income will be deleted from your account"},on:{close:t.openConfirmModal,confirm:t.confirmDelete}}),n("budget-control-modal",{attrs:{title:"Add Budget",show:t.budgetControlModalShow,keyString:t.selectedBudget,budgetType:t.selectedBudgetType},on:{close:t.openBudgetControlModal}})],2)},it=[],ot=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"mt-5"},[n("h4",{staticClass:"text-center mb-3",class:t.titleColor},[t._v(t._s(t.title))]),n("table",{staticClass:"table table-hover"},[n("thead",[n("tr",{staticClass:"text-white",class:t.backgroundColor},[n("td",[t._v("Description")]),n("td",[t._v("Date")]),n("td",[t._v("Value")]),n("td",[t._v("Category")]),n("td")])]),n("tbody",t._l(t.array,function(e,a){return n("tr",{key:a,staticClass:"array-row"},[n("td",[t._v(t._s(e.description))]),n("td",[t._v(t._s(t.formatDate(e.date)))]),n("td",[t._v("+"+t._s(e.value))]),n("td",[t._v(t._s(e.category))]),n("td",{staticClass:"array-row__delete"},[n("span",{staticClass:"text-primary mr-2",on:{click:function(n){t.editBudget(e.key)}}},[t._v("Edit")]),n("span",{staticClass:"text-danger",on:{click:function(n){t.deleteBudget(e.key)}}},[t._v("Delete")])])])}))])])},rt=[],ct=n("c1df"),lt=n.n(ct),ut={name:"BudgetListItem",props:{budget:{type:String,default:"income"},array:{type:Array,default:[]}},data:function(){return{isIncome:"income"===this.budget}},computed:{title:function(){return this.isIncome?"Income":"Expenses"},titleColor:function(){return this.isIncome?"text-primary":"text-warning"},backgroundColor:function(){return this.isIncome?"bg-primary":"bg-warning"}},methods:{formatDate:function(t){return lt()(t).format("YYYY/MM/DD")},deleteBudget:function(t){console.log(t,this.isIncome),this.$emit("deleteItem",t,this.isIncome)},editBudget:function(t){console.log(t),this.$emit("editItem",{key:t,isIncome:this.isIncome})}}},dt=ut,gt=(n("dd46"),Object(u["a"])(dt,ot,rt,!1,null,"66af246f",null));gt.options.__file="BudgetListItem.vue";var mt=gt.exports,ft=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("modal",{attrs:{show:t.show}},[n("div",{staticClass:"bg-white p-3"},[n("div",{staticClass:"mb-3"},[n("h3",{},[t._v(t._s(t.title))])]),n("div",{staticClass:"mb-3"},[n("p",{},[t._v(t._s(t.text))])]),n("div",{staticClass:"d-flex justify-content-end mb-3"},[n("button",{staticClass:"btn btn-light mr-2",on:{click:function(e){t.$emit("close")}}},[t._v(t._s(t.cancelText))]),n("button",{staticClass:"btn btn-danger",on:{click:function(e){t.$emit("confirm")}}},[t._v(t._s(t.confirmText))])])])])},pt=[],ht=function(){var t=this,e=t.$createElement,n=t._self._c||e;return t.show?n("backdrop",{nativeOn:{click:function(e){t.$emit("close")}}},[n("div",{staticClass:"container"},[n("div",{staticClass:"row d-flex justify-content-center align-items-center"},[n("transition",{attrs:{name:"fade",appear:""}},[n("div",{class:t.size,on:{click:function(t){t.stopPropagation()}}},[t._t("default")],2)])],1)])]):t._e()},vt=[],bt=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"backdrop"},[t._t("default")],2)},yt=[],_t={name:"Backdrop",data:function(){return{show:!0}},methods:{close:function(){this.$emit("close")}}},Ct=_t,kt=(n("f6dd"),Object(u["a"])(Ct,bt,yt,!1,null,"8b34bf58",null));kt.options.__file="Backdrop.vue";var xt=kt.exports,wt={name:"Modal",components:{Backdrop:xt},props:{show:{type:Boolean,default:!1},size:{type:String,default:"col-lg-6"}}},Bt=wt,jt=(n("fc57"),Object(u["a"])(Bt,ht,vt,!1,null,"5224a005",null));jt.options.__file="Modal.vue";var It=jt.exports,Mt={name:"ConfirmModal",components:{Modal:It},props:{show:{type:Boolean,default:!1},title:{type:String,default:""},text:{type:String,default:""},cancelText:{type:String,default:""},confirmText:{type:String,default:""}}},Et=Mt,$t=(n("b3fb"),Object(u["a"])(Et,ft,pt,!1,null,"40a6fb6f",null));$t.options.__file="ConfirmModal.vue";var Dt=$t.exports,Lt=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("modal",{attrs:{show:t.show},on:{close:function(e){t.$emit("close")}}},[n("budget-control",{attrs:{keyString:t.keyString,budgetType:t.budgetType},on:{close:function(e){t.$emit("close")}}})],1)},St=[],Pt={name:"BudgetControlModal",components:{BudgetControl:at,Modal:It},props:{show:{type:Boolean,default:!1},keyString:{type:String,default:""},budgetType:{type:String,default:"income"}}},Nt=Pt,At=(n("bf83"),Object(u["a"])(Nt,Lt,St,!1,null,"2f006356",null));At.options.__file="BudgetControlModal.vue";var Ot=At.exports,Tt={components:{BudgetControlModal:Ot,ConfirmModal:Dt,BudgetListItem:mt},created:function(){this.loaded||(this.$store.dispatch("fetchIncomes",this.$route.params.id),this.$store.dispatch("fetchExpenses",this.$route.params.id))},data:function(){return{confirmModalShow:!1,budgetControlModalShow:!1,selectedBudget:"",selectedBudgetType:""}},computed:{incomes:function(){return this.$store.getters.getUserIncomes},expenses:function(){return this.$store.getters.getUserExpenses},listingId:function(){return this.$route.params.id},loaded:function(){return this.$store.getters.getIncomesLoaded&&this.$store.getters.getExpensesLoaded}},methods:{openConfirmModal:function(){this.confirmModalShow=!this.confirmModalShow},deleteIncome:function(t){this.confirmModalShow=!0,this.selectedBudget=t},deleteBudget:function(t,e){this.openConfirmModal(),this.selectedBudget=t,this.selectedBudgetType=!0===e?"income":"expense"},confirmDelete:function(){this.openConfirmModal(),"income"===this.selectedBudgetType?this.$store.dispatch("deleteIncome",{key:this.selectedBudget,listingId:this.listingId}):this.$store.dispatch("deleteExpense",{key:this.selectedBudget,listingId:this.listingId})},openBudgetControlModal:function(){this.budgetControlModalShow=!this.budgetControlModalShow},editBudget:function(t){var e=t.key,n=t.isIncome;this.budgetControlModalShow=!0,this.selectedBudget=e,this.selectedBudgetType=!0===n?"income":"expense"}}},Gt=Tt,Ut=(n("a77a"),Object(u["a"])(Gt,st,it,!1,null,"6ac34768",null));Ut.options.__file="BudgetList.vue";var Ft=Ut.exports,Vt=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("modal",{attrs:{show:t.show},on:{close:function(e){t.$emit("close")}}},[n("planned-budget-form",{attrs:{keyString:t.keyString},on:{close:function(e){t.$emit("close")}}})],1)},Yt=[],Wt=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"p-3 planned-budget-form bg-white"},[n("div",{staticClass:"d-flex justify-content-between"},[n("h5",{staticClass:"m-0"},[t._v(t._s(t.title))]),n("span",{staticClass:"close",on:{click:function(e){t.$emit("close")}}},[n("i",{staticClass:"material-icons"},[t._v("clear")])])]),n("hr"),n("div",{},[n("div",{staticClass:"form-group"},[n("div",{staticClass:"custom-control custom-radio"},[n("input",{directives:[{name:"model",rawName:"v-model",value:t.plannedBudget.oneTimeOnly,expression:"plannedBudget.oneTimeOnly"}],staticClass:"custom-control-input",attrs:{type:"radio",id:"one-tme",name:"customRadio",value:"one"},domProps:{checked:t._q(t.plannedBudget.oneTimeOnly,"one")},on:{change:function(e){t.$set(t.plannedBudget,"oneTimeOnly","one")}}}),n("label",{staticClass:"custom-control-label",attrs:{for:"one-tme"}},[t._v("One-time budget")])]),n("div",{staticClass:"custom-control custom-radio"},[n("input",{directives:[{name:"model",rawName:"v-model",value:t.plannedBudget.oneTimeOnly,expression:"plannedBudget.oneTimeOnly"}],staticClass:"custom-control-input",attrs:{type:"radio",id:"repeating",name:"customRadio",value:"repeat"},domProps:{checked:t._q(t.plannedBudget.oneTimeOnly,"repeat")},on:{change:function(e){t.$set(t.plannedBudget,"oneTimeOnly","repeat")}}}),n("label",{staticClass:"custom-control-label",attrs:{for:"repeating"}},[t._v("Reapating budget")])])]),n("div",[n("label",[t._v(t._s(t.dateLabel))]),n("datepicker",{staticClass:"date mr-3 mb-3",attrs:{"wrapper-class":"datepicker w-100","input-class":"w-100",placeholder:"Date"},model:{value:t.plannedBudget.date,callback:function(e){t.$set(t.plannedBudget,"date",e)},expression:"plannedBudget.date"}})],1),"repeat"===t.plannedBudget.oneTimeOnly?n("div",{staticClass:"form-group"},[n("label",[t._v("Subscription time")]),n("select",{directives:[{name:"model",rawName:"v-model",value:t.plannedBudget.subscription,expression:"plannedBudget.subscription"}],staticClass:"custom-select expense form-control mr-3",on:{change:function(e){var n=Array.prototype.filter.call(e.target.options,function(t){return t.selected}).map(function(t){var e="_value"in t?t._value:t.value;return e});t.$set(t.plannedBudget,"subscription",e.target.multiple?n:n[0])}}},[n("option",{attrs:{disabled:""}},[t._v("Choose a subscription time")]),n("option",[t._v("Daily")]),n("option",[t._v("Weekly")]),n("option",[t._v("Monthly")]),n("option",[t._v("Yearly")])])]):t._e(),n("div",{staticClass:"form-group  mr-2"},[n("label",[t._v("Expense or Income")]),n("select",{directives:[{name:"model",rawName:"v-model",value:t.plannedBudget.budget,expression:"plannedBudget.budget"}],staticClass:"custom-select expense form-control mr-3",on:{change:function(e){var n=Array.prototype.filter.call(e.target.options,function(t){return t.selected}).map(function(t){var e="_value"in t?t._value:t.value;return e});t.$set(t.plannedBudget,"budget",e.target.multiple?n:n[0])}}},[n("option",[t._v("-")]),n("option",[t._v("+")])])]),n("div",{staticClass:"form-group  mr-2"},[n("label",{attrs:{for:"description"}},[t._v("Description")]),n("input",{directives:[{name:"model",rawName:"v-model",value:t.plannedBudget.description,expression:"plannedBudget.description"}],staticClass:"form-control",attrs:{type:"text",id:"description",placeholder:"Description"},domProps:{value:t.plannedBudget.description},on:{input:function(e){e.target.composing||t.$set(t.plannedBudget,"description",e.target.value)}}})]),n("div",{staticClass:"form-group "},[n("label",{attrs:{for:"value"}},[t._v("Value")]),n("input",{directives:[{name:"model",rawName:"v-model",value:t.plannedBudget.value,expression:"plannedBudget.value"}],staticClass:"form-control",attrs:{type:"number",id:"value",placeholder:"Value"},domProps:{value:t.plannedBudget.value},on:{input:function(e){e.target.composing||t.$set(t.plannedBudget,"value",e.target.value)}}})])]),n("div",{staticClass:"d-flex justify-content-end"},[n("button",{staticClass:"btn btn-outline-primary btn-block",on:{click:t.add}},[t._v(t._s(t.title))])])])},zt=[],Rt={name:"PlannedBudgetForm",components:{Datepicker:Z["a"]},props:{keyString:{type:String,default:""},budgetType:{type:String,default:""}},created:function(){this.keyString&&(this.plannedBudget=Object(X["a"])({},this.$store.getters.getUserPlannedBudget(this.keyString)),this.plannedBudget.subscription&&(this.plannedBudget.oneTimeOnly="repeat"))},data:function(){return{plannedBudget:{oneTimeOnly:"one",budget:"-",description:"",value:"",category:"Categories",date:new Date,subscription:"Choose a subscription time"},descriptionError:{descriptionMsg:"",error:!1},valueError:{valueMsg:"",error:!1},dateError:{dateMsg:"",error:!1}}},computed:{dateLabel:function(){return"one"===this.plannedBudget.oneTimeOnly?"Planned date":"Select start date"},listingId:function(){return this.$route.params.id},title:function(){return this.keyString?"Edit Planned Budget":"Add Planned Budget"}},methods:{add:function(){var t=this;this.descriptionError=j(this.plannedBudget.description,"text"),this.valueError=j(this.plannedBudget.value,"number"),this.descriptionError.error||this.valueError.error?console.log("error"):this.keyString?"repeat"===this.plannedBudget.oneTimeOnly?"Choose a subscription time"!==this.plannedBudget.subscription&&this.$store.dispatch("editPlannedBudget",{plannedBudget:this.plannedBudget,listingId:this.listingId}).then(function(e){t.$emit("close")}):this.$store.dispatch("editPlannedBudget",{plannedBudget:this.plannedBudget,listingId:this.listingId}).then(function(e){t.$emit("close")}):"repeat"===this.plannedBudget.oneTimeOnly?"Choose a subscription time"!==this.plannedBudget.subscription&&this.$store.dispatch("addPlannedBudget",{plannedBudget:this.plannedBudget,listingId:this.listingId}).then(function(e){t.$emit("close")}):(this.plannedBudget.subscription="One time",this.$store.dispatch("addPlannedBudget",{plannedBudget:this.plannedBudget,listingId:this.listingId}).then(function(e){t.$emit("close")}))}}},qt=Rt,Jt=(n("f53c"),Object(u["a"])(qt,Wt,zt,!1,null,null,null));Jt.options.__file="PlannedBudgetForm.vue";var Kt=Jt.exports,Qt={name:"PlannedBudgetModal",components:{PlannedBudgetForm:Kt,Modal:It},props:{show:{type:Boolean,default:!1},keyString:{type:String,default:""}}},Ht=Qt,Xt=(n("4333"),Object(u["a"])(Ht,Vt,Yt,!1,null,"89bea5a2",null));Xt.options.__file="PlannedBudgetModal.vue";var Zt=Xt.exports,te=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("modal",{attrs:{show:t.show},on:{close:function(e){t.$emit("close")}}},[n("goal-form",{attrs:{"key-string":t.keyString},on:{close:function(e){t.$emit("close")}}})],1)},ee=[],ne=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"p-3 goal-form bg-white"},[n("div",{staticClass:"d-flex justify-content-between"},[n("h5",{staticClass:"m-0"},[t._v("Add Goal")]),n("span",{staticClass:"close",on:{click:function(e){t.$emit("close")}}},[n("i",{staticClass:"material-icons"},[t._v("clear")])])]),n("hr"),n("div",{},[n("div",{staticClass:"form-group mr-2"},[n("label",{attrs:{for:"description"}},[t._v("Description")]),n("input",{directives:[{name:"model",rawName:"v-model",value:t.goal.description,expression:"goal.description"}],staticClass:"form-control",attrs:{type:"text",id:"description",placeholder:"Description"},domProps:{value:t.goal.description},on:{input:function(e){e.target.composing||t.$set(t.goal,"description",e.target.value)}}})]),n("div",{staticClass:"form-group mr-2"},[n("label",{attrs:{for:"value"}},[t._v("Value")]),n("input",{directives:[{name:"model",rawName:"v-model",value:t.goal.value,expression:"goal.value"}],staticClass:"form-control",attrs:{type:"number",id:"value",placeholder:"Value"},domProps:{value:t.goal.value},on:{input:function(e){e.target.composing||t.$set(t.goal,"value",e.target.value)}}})]),n("div",[n("label",[t._v("Deadline")]),n("datepicker",{staticClass:"date mr-3 mb-3",attrs:{"wrapper-class":"datepicker w-100","input-class":"w-100",placeholder:"Date"},model:{value:t.goal.date,callback:function(e){t.$set(t.goal,"date",e)},expression:"goal.date"}})],1)]),n("div",{staticClass:"d-flex justify-content-end"},[n("button",{staticClass:"btn btn-outline-primary btn-block",on:{click:t.add}},[t._v("Add")])])])},ae=[],se={name:"GoalForm",components:{Datepicker:Z["a"]},props:{keyString:{type:String,default:""}},created:function(){this.keyString&&(this.goal=Object(X["a"])({},this.$store.getters.getUserGoal(this.keyString)))},data:function(){return{goal:{description:"",value:"",date:new Date},descriptionError:{descriptionMsg:"",error:!1},valueError:{valueMsg:"",error:!1},dateError:{dateMsg:"",error:!1}}},computed:{listingId:function(){return this.$route.params.id}},methods:{add:function(){var t=this;this.descriptionError=j(this.goal.description,"text"),this.valueError=j(this.goal.value,"number"),this.descriptionError.error||this.valueError.error?console.log("error"):this.keyString?(this.$store.dispatch("editGoal",{goal:this.goal,listingId:this.listingId}),this.$emit("close")):this.$store.dispatch("addGoal",{goal:this.goal,listingId:this.listingId}).then(function(e){t.$emit("close")})}}},ie=se,oe=(n("df20"),Object(u["a"])(ie,ne,ae,!1,null,"3db08b4e",null));oe.options.__file="GoalForm.vue";var re=oe.exports,ce={name:"GoalModal",components:{GoalForm:re,Modal:It},props:{show:{type:Boolean,default:!1},keyString:{type:String,default:""}}},le=ce,ue=(n("cca0"),Object(u["a"])(le,te,ee,!1,null,"84bedd8a",null));ue.options.__file="GoalModal.vue";var de=ue.exports,ge=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"mt-5"},[n("h4",{staticClass:"text-center text-primary mb-3"},[t._v("Planned Budgets")]),t.months.length?n("select",{directives:[{name:"model",rawName:"v-model",value:t.selectedMonth,expression:"selectedMonth"}],staticClass:"category custom-select mb-3",attrs:{id:"category"},on:{change:function(e){var n=Array.prototype.filter.call(e.target.options,function(t){return t.selected}).map(function(t){var e="_value"in t?t._value:t.value;return e});t.selectedMonth=e.target.multiple?n:n[0]}}},[n("option",[t._v("Month")]),t._l(t.months,function(e,a){return n("option",{key:a},[t._v(t._s(e))])})],2):t._e(),t.plannedBudgets.length?n("table",{staticClass:"table table-hover"},[t._m(0),n("tbody",t._l(t.plannedBudgets,function(e,a){return n("tr",{key:a,staticClass:"plannedBudgets-row"},[n("td",[t._v(t._s("-"===e.budget?"Expense":"Income"))]),n("td",[t._v(t._s(e.description))]),n("td",[t._v(t._s(t.formatDate(e.date)))]),e.subscription?n("td",[t._v(t._s(e.subscription))]):n("td",[t._v("-")]),n("td",[t._v(t._s(e.budget)+t._s(e.value))]),n("td",{staticClass:"plannedBudgets-row__delete"},[n("span",{staticClass:"text-primary mr-2",on:{click:function(n){t.editPlannedBudget(e.key)}}},[t._v("Edit")]),n("span",{staticClass:"text-danger",on:{click:function(n){t.deletePlannedBudget(e.key)}}},[t._v("Delete")])])])}))]):n("div",[n("h4",{staticClass:"text-center"},[t._v("You dont'have planned budgets yet")])]),n("confirm-modal",{attrs:{show:t.confirmModalShow,title:"Do you want to delete this planned budget?","cancel-text":"Cancel","confirm-text":"Delete",text:"This planned budget will be deleted from your account"},on:{close:t.openConfirmModal,confirm:t.confirmDelete}}),n("planned-budget-modal",{attrs:{show:t.plannedBudgetModalShow,keyString:t.selectedPlannedBudget},on:{close:t.openPlannedBudgetModal}})],1)},me=[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("thead",[n("tr",{staticClass:"text-white bg-primary"},[n("td",[t._v("Budget")]),n("td",[t._v("Description")]),n("td",[t._v("Date")]),n("td",[t._v("Subscription")]),n("td",[t._v("Value")]),n("td")])])}],fe=(n("20d6"),{name:"PlannedBudgetList",components:{ConfirmModal:Dt,PlannedBudgetModal:Zt},created:function(){this.plannedBudgetsLoaded||this.$store.dispatch("fetchPlannedBudgets",this.$route.params.id)},data:function(){return{plannedBudgetModalShow:!1,selectedPlannedBudget:"",confirmModalShow:!1,months:["Jan","Feb","Mar","Apr","May","June","July","Aug","Sept","Oct","Nov","Dec"],selectedMonth:"Month"}},computed:{listingId:function(){return this.$route.params.id},plannedBudgets:function(){var t=this;return"Month"===this.selectedMonth?this.$store.getters.getUserPlannedBudgets:this.$store.getters.getUserPlannedBudgets.filter(function(e){var n=t.months.findIndex(function(e){return e===t.selectedMonth}),a=new Date(e.date).getMonth();return n===a})},plannedBudgetsLoaded:function(){return this.$store.getters.getPlannedBudgetsLoaded}},methods:{formatDate:function(t){return lt()(t).format("YYYY/MM/DD")},editPlannedBudget:function(t){this.plannedBudgetModalShow=!0,this.selectedPlannedBudget=t},openPlannedBudgetModal:function(){this.plannedBudgetModalShow=!this.plannedBudgetModalShow},deletePlannedBudget:function(t){this.confirmModalShow=!0,this.selectedPlannedBudget=t},openConfirmModal:function(){this.confirmModalShow=!this.confirmModalShow},confirmDelete:function(){this.$store.dispatch("deletePlannedBudget",{key:this.selectedPlannedBudget,listingId:this.listingId}),console.log(this.selectedPlannedBudget),this.openConfirmModal()}}}),pe=fe,he=(n("7bba"),Object(u["a"])(pe,ge,me,!1,null,"1971d94c",null));he.options.__file="PlannedBudgetList.vue";var ve=he.exports,be=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"mt-5"},[n("h4",{staticClass:"text-center text-primary mb-3"},[t._v("Goals")]),t.goals.length?n("table",{staticClass:"table table-hover"},[t._m(0),n("tbody",t._l(t.goals,function(e,a){return n("tr",{key:a,staticClass:"goals-row"},[n("td",[t._v(t._s(e.description))]),n("td",[t._v(t._s(t.formatDate(e.date)))]),n("td",[t._v(t._s(parseFloat(e.value).toLocaleString()))]),n("td",[t._v(t._s(t.remainingValue(e.value)))]),n("td",[t._v(t._s(t.remainingDays(e.date)))]),n("td",{staticClass:"goals-row__delete"},[n("span",{staticClass:"text-primary mr-2",on:{click:function(n){t.editGoal(e.key)}}},[t._v("Edit")]),n("span",{staticClass:"text-danger",on:{click:function(n){t.deleteGoal(e.key)}}},[t._v("Delete")])])])}))]):n("div",[n("h4",{staticClass:"text-center"},[t._v("You don't have any goals yet")])]),n("confirm-modal",{attrs:{show:t.confirmModalShow,title:"Do you want to delete this goal?","cancel-text":"Cancel","confirm-text":"Delete",text:"This goal will be deleted from your account"},on:{close:t.openConfirmModal,confirm:t.confirmDelete}}),n("goal-modal",{attrs:{show:t.goalModalShow,keyString:t.selectedGoal},on:{close:t.openGoalModal}})],1)},ye=[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("thead",[n("tr",{staticClass:"text-white bg-primary"},[n("td",[t._v("Description")]),n("td",[t._v("Deadline")]),n("td",[t._v("Value")]),n("td",[t._v("Money needed")]),n("td",[t._v("Remaining Days")]),n("td")])])}],_e={name:"GoalList",components:{GoalModal:de,ConfirmModal:Dt},created:function(){this.goalsLoaded||this.$store.dispatch("fetchGoals",this.$route.params.id)},data:function(){return{goalModalShow:!1,confirmModalShow:!1,selectedGoal:""}},computed:{budget:function(){return this.$store.getters.getIncome-this.$store.getters.getExpense},listingId:function(){return this.$route.params.id},goals:function(){return this.$store.getters.getUserGoals},goalsLoaded:function(){return this.$store.getters.getGoalsLoaded}},methods:{formatDate:function(t){return lt()(t).format("YYYY/MM/DD")},remainingValue:function(t){return t-this.budget>0?(t-this.budget).toLocaleString():"Achieved"},remainingDays:function(t){var e=lt()(t),n=e.diff(new Date,"days");return n>0?"".concat(n," days"):"Deadline reached"},editGoal:function(t){this.goalModalShow=!0,this.selectedGoal=t,console.log(t)},openConfirmModal:function(){this.confirmModalShow=!this.confirmModalShow},confirmDelete:function(){this.$store.dispatch("deleteGoal",{key:this.selectedGoal,listingId:this.listingId}),this.openConfirmModal()},openGoalModal:function(){this.goalModalShow=!this.goalModalShow},deleteGoal:function(t){console.log(t),this.openConfirmModal(),this.selectedGoal=t}}},Ce=_e,ke=(n("bfed"),Object(u["a"])(Ce,be,ye,!1,null,"5b011f49",null));ke.options.__file="GoalList.vue";var xe=ke.exports,we=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{class:t.name})},Be=[],je=n("ba48"),Ie=n.n(je),Me={props:{labels:{type:Array,default:[]},series:{type:Array,default:[]},name:{type:String,required:!0}},mounted:function(){new Ie.a.Pie(".".concat(this.name),{labels:this.labels,series:this.series})},data:function(){return{}}},Ee=Me,$e=(n("57e0"),Object(u["a"])(Ee,we,Be,!1,null,null,null));$e.options.__file="PieChart.vue";var De=$e.exports,Le=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{class:t.name})},Se=[],Pe={props:{labels:{type:Array,default:function(){return[]}},series:{type:Array,default:function(){return[]}},name:{type:String,default:""}},mounted:function(){new Ie.a.Line(".".concat(this.name),{labels:this.labels,series:this.series},{height:"250px"})},data:function(){return{}}},Ne=Pe,Ae=(n("877f"),Object(u["a"])(Ne,Le,Se,!1,null,null,null));Ae.options.__file="LineChart.vue";var Oe=Ae.exports,Te=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{class:t.name})},Ge=[],Ue={props:{labels:{type:Array,default:function(){return[]}},series:{type:Array,default:function(){return[]}},name:{type:String,default:""}},mounted:function(){new Ie.a.Bar(".".concat(this.name),{labels:this.labels,series:this.series},{height:"250px"})},data:function(){return{}}},Fe=Ue,Ve=(n("3201"),Object(u["a"])(Fe,Te,Ge,!1,null,null,null));Ve.options.__file="BarChart.vue";var Ye=Ve.exports,We=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"container"},[n("category-chart"),n("year-chart")],1)},ze=[],Re=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"row mb-5 border py-3"},[t.incomeCategoriesWithValue.length||t.expenseCategoriesWithValue.length?n("div",{staticClass:"col-lg-12"},[n("h3",{staticClass:"text-center"},[t._v("Categories")])]):n("div",{staticClass:"col-lg-12"},[n("h4",{staticClass:"text-center"},[t._v("No Category charts")])]),t.incomeCategoriesWithValue.length?n("div",{staticClass:"col-lg-4"},[n("pie-chart",{attrs:{name:"income",labels:t.incomeCategoriesWithValue,series:t.incomeValues}}),n("h3",{staticClass:"text-center"},[t._v("Income")])],1):t._e(),t.expenseCategoriesWithValue.length?n("div",{staticClass:"col-lg-4"},[n("pie-chart",{attrs:{name:"expense",labels:t.expenseCategoriesWithValue,series:t.expenseValues}}),n("h4",{staticClass:"text-center"},[t._v("Expenses")])],1):t._e(),n("div",{staticClass:"col-lg-4"},[n("pie-chart",{attrs:{name:"inc-exp",labels:["Income","Expenses"],series:[t.incomesTotal,t.expensesTotal]}}),n("h4",{staticClass:"text-center"},[t._v("Income / Expenses")])],1)])},qe=[],Je={components:{PieChart:De},data:function(){return{}},computed:{incomes:function(){return this.$store.getters.getUserIncomes},expenses:function(){return this.$store.getters.getUserExpenses},categories:function(){return this.$store.getters.getUser.categories.map(function(t){return t.label})},incomeCategoryValues:function(){var t=this.categories.map(function(t){return{category:t,value:0}});return this.incomes.forEach(function(e){return t.find(function(t){return t.category===e.category}).value+=parseInt(e.value)}),t},incomeCategoriesWithValue:function(){return this.incomeCategoryValues.filter(function(t){return 0!==t.value}).map(function(t){return t.category})},incomeValues:function(){return this.incomeCategoryValues.filter(function(t){return 0!==t.value}).map(function(t){return t.value})},expenseCategoryValues:function(){var t=this.categories.map(function(t){return{category:t,value:0}});return this.expenses.forEach(function(e){return t.find(function(t){return t.category===e.category}).value+=parseInt(e.value)}),t},expenseCategoriesWithValue:function(){return this.expenseCategoryValues.filter(function(t){return 0!==t.value}).map(function(t){return t.category})},expenseValues:function(){return this.expenseCategoryValues.filter(function(t){return 0!==t.value}).map(function(t){return t.value})},incomesTotal:function(){return this.incomes.reduce(function(t,e){return t+parseInt(e.value)},0)},expensesTotal:function(){return this.expenses.reduce(function(t,e){return t+parseInt(e.value)},0)}}},Ke=Je,Qe=(n("e000"),Object(u["a"])(Ke,Re,qe,!1,null,"5a6afd50",null));Qe.options.__file="CategoryChart.vue";var He=Qe.exports,Xe=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"row py-5 border"},[t._m(0),n("div",{staticClass:"col-lg-12"},[n("h3",[t._v("Current Year - "+t._s((new Date).getFullYear()))]),n("line-chart",{attrs:{name:"year",labels:t.months,series:[t.incomesMonthlyValues,t.expensesMonthlyValues]}})],1),n("div",{staticClass:"col-lg-12 mt-2"},[n("h3",[t._v("Current Month - "+t._s(t.months[(new Date).getMonth()]))]),n("line-chart",{attrs:{name:"days",labels:t.days,series:[t.incomesDailyValues,t.expensesDailyValues]}})],1),n("week-chart",{staticClass:"mt-2"})],1)},Ze=[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"d-flex ml-3"},[n("div",{staticClass:"d-flex align-items-center mr-2"},[n("div",{staticClass:"chart-marker chart-income mr-1"}),t._v("\n\t\t\tIncome\n\t\t")]),n("div",{staticClass:"d-flex align-items-center"},[n("div",{staticClass:"chart-marker chart-expense mr-1"}),t._v("\n\t\t\tExpenses\n\t\t")])])}],tn=(n("6c7b"),n("6b54"),function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"col-lg-12"},[n("h3",[t._v("Current Week")]),n("bar-chart",{attrs:{name:"week",labels:t.days,series:[t.incomesDailyValues,t.expensesDailyValues]}})],1)}),en=[],nn={components:{BarChart:Ye},data:function(){return{days:["Mon","Tue","Wed","Thur","Fri","Sat","Sun"]}},computed:{incomes:function(){return this.$store.getters.getUserIncomes},expenses:function(){return this.$store.getters.getUserExpenses},test:function(){return this.getWeekNumber(new Date(this.incomes[0].date))},incomesDailyValues:function(){var t=this,e=new Array(7).fill(0,0,7);return this.incomes.forEach(function(n){var a=new Date(n.date),s=new Date;if(t.getWeekNumber(a)===t.getWeekNumber(s)){var i=a.getDay();0===i?e[6]+=parseInt(n.value):e[i-1]+=parseInt(n.value)}}),e},expensesDailyValues:function(){var t=this,e=new Array(7).fill(0,0,7);return this.expenses.forEach(function(n){var a=new Date(n.date),s=new Date;if(t.getWeekNumber(a)===t.getWeekNumber(s)){var i=a.getDay();0===i?e[6]+=parseInt(n.value):e[i-1]+=parseInt(n.value)}}),e}},methods:{getWeekNumber:function(t){t=new Date(Date.UTC(t.getFullYear(),t.getMonth(),t.getDate())),t.setUTCDate(t.getUTCDate()+4-(t.getUTCDay()||7));var e=new Date(Date.UTC(t.getUTCFullYear(),0,1)),n=Math.ceil(((t-e)/864e5+1)/7);return n}}},an=nn,sn=(n("461e"),Object(u["a"])(an,tn,en,!1,null,"0dfd4810",null));sn.options.__file="WeekChart.vue";var on=sn.exports,rn={components:{LineChart:Oe,WeekChart:on},mounted:function(){console.log(this.series)},data:function(){return{months:["Jan","Feb","Mar","Apr","May","June","July","Aug","Sept","Oct","Nov","Dec"],series:[]}},computed:{days:function(){for(var t=[],e=1;e<32;e++)t.push(e.toString());return t},incomes:function(){return this.$store.getters.getUserIncomes},expenses:function(){return this.$store.getters.getUserExpenses},incomesMonthlyValues:function(){var t=new Array(12).fill(0,0,13);return this.incomes.forEach(function(e){var n=new Date(e.date).getMonth();t[n]+=parseInt(e.value)}),t},expensesMonthlyValues:function(){var t=new Array(12).fill(0,0,13);return this.expenses.forEach(function(e){var n=new Date(e.date).getMonth();t[n]+=parseInt(e.value)}),t},incomesDailyValues:function(){var t=new Array(31).fill(0,0,32);return this.incomes.forEach(function(e){var n=new Date(e.date),a=new Date;if(n.getMonth()===a.getMonth()&&n.getFullYear()===a.getFullYear()){var s=n.getUTCDate();t[s-1]+=parseInt(e.value)}}),t},expensesDailyValues:function(){var t=new Array(31).fill(0,0,32);return this.expenses.forEach(function(e){var n=new Date(e.date),a=new Date;if(n.getMonth()===a.getMonth()&&n.getFullYear()===a.getFullYear()){var s=n.getUTCDate();t[s-1]+=parseInt(e.value)}}),t}}},cn=rn,ln=(n("077e"),Object(u["a"])(cn,Xe,Ze,!1,null,"883e5036",null));ln.options.__file="YearChart.vue";var un=ln.exports,dn={components:{CategoryChart:He,YearChart:un,WeekChart:on}},gn=dn,mn=(n("4221"),Object(u["a"])(gn,We,ze,!1,null,"5071967b",null));mn.options.__file="Charts.vue";var fn=mn.exports,pn={name:"Budget",components:{Charts:fn,GoalList:xe,PlannedBudgetList:ve,GoalModal:de,PlannedBudgetModal:Zt,BudgetControlModal:Ot,BudgetControl:at,BudgetHeader:K,BudgetList:Ft,Modal:It,PieChart:De,LineChart:Oe,BarChart:Ye},created:function(){},computed:{loading:function(){return this.$store.getters.getUserLoading},id:function(){return this.$route.params.id}},data:function(){return{budgetControlModalShow:!1,plannedBudgetModalShow:!1,goalModalShow:!1}},methods:{openBudgetControlModal:function(){this.budgetControlModalShow=!this.budgetControlModalShow},openPlannedBudgetModal:function(){this.plannedBudgetModalShow=!this.plannedBudgetModalShow},openGoalModal:function(){this.goalModalShow=!this.goalModalShow}}},hn=pn,vn=(n("e10c"),Object(u["a"])(hn,F,V,!1,null,"1ac9db26",null));vn.options.__file="Budget.vue";var bn=vn.exports,yn=function(){var t=this,e=t.$createElement,n=t._self._c||e;return t.show?n("div",{staticClass:"alert alert-dismissible infobar mb-0 w-100",class:t.infoBar.color},[n("button",{staticClass:"close",attrs:{type:"button"},on:{click:t.close}},[t._v("×")]),n("h4",{staticClass:"alert-heading"},[t._v(t._s(t.infoBar.title))]),n("p",[t._v(t._s(t.infoBar.text))])]):t._e()},_n=[],Cn={name:"Infobar",computed:{infoBar:function(){return this.$store.getters.getInfoBar},show:function(){return this.$store.getters.getInfoBarShow}},methods:{close:function(){}}},kn=Cn,xn=(n("2ec5"),Object(u["a"])(kn,yn,_n,!1,null,"349e942f",null));xn.options.__file="Infobar.vue";var wn=xn.exports,Bn={name:"DashboardPage",components:{Infobar:wn,Budget:bn,Navbar:g},created:function(){this.$store.dispatch("fetchUser",this.$store.getters.getUserId)}},jn=Bn,In=(n("d69a"),Object(u["a"])(jn,G,U,!1,null,"c7c9a230",null));In.options.__file="DashboardPage.vue";var Mn=In.exports,En=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"container"},[n("div",{staticClass:"row"},[n("div",{staticClass:"col-md-12"},[n("div",{staticClass:"bg-white shadow my-5 py-3"},[n("h3",{staticClass:"text-center"},[t._v("Account Settings")]),n("account-information"),n("account-categories"),n("account-listings")],1)])])])},$n=[],Dn=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"p-3"},[n("h4",{staticClass:"mb-4"},[t._v("Information")]),n("label",{attrs:{for:"nameEdit"}},[t._v("Name")]),n("input",{directives:[{name:"model",rawName:"v-model",value:t.name,expression:"name"}],staticClass:"form-control",class:{"is-invalid":t.nameError.error},attrs:{type:"text",id:"nameEdit",placeholder:"Name"},domProps:{value:t.name},on:{input:function(e){e.target.composing||(t.name=e.target.value)}}}),t.nameError.error?n("div",{staticClass:"invalid-feedback"},[t._v(t._s(t.nameError.errorMsg))]):t._e(),n("button",{staticClass:"btn btn-primary mt-3",on:{click:t.changeInfo}},[t._v("Change")])])},Ln=[],Sn={name:"AccountInformation",created:function(){this.name=this.$store.getters.getUserName},data:function(){return{name:"",nameError:{error:!1,errorMsg:""}}},methods:{changeInfo:function(){this.nameError=j(this.name,"text"),this.nameError.error||this.$store.dispatch("changeUserName",this.name)}}},Pn=Sn,Nn=(n("a59c"),Object(u["a"])(Pn,Dn,Ln,!1,null,"1a2b11a8",null));Nn.options.__file="AccountInformation.vue";var An=Nn.exports,On=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"p-3"},[n("h4",{staticClass:"mb-4"},[t._v("Your Categories")]),n("div",{staticClass:"row"},[n("div",{staticClass:"col-md-12"},[n("div",{staticClass:"d-flex mb-4"},[n("div",{staticClass:"mr-3"},[n("input",{directives:[{name:"model",rawName:"v-model",value:t.category,expression:"category"}],staticClass:"form-control",class:{"is-invalid":t.categoryError.error},attrs:{type:"text",id:"addCategory",placeholder:"Category name"},domProps:{value:t.category},on:{input:function(e){e.target.composing||(t.category=e.target.value)}}}),t.categoryError.error?n("div",{staticClass:"invalid-feedback"},[t._v(t._s(t.categoryError.errorMsg))]):t._e()]),n("div",[n("button",{staticClass:"btn btn-primary",on:{click:t.addCategory}},[t._v("Add Category")])])])]),t.categories.length?t._l(t.categories,function(t){return n("div",{staticClass:"col-lg-4"},[n("category",{attrs:{category:t}})],1)}):n("div",{staticClass:"col-lg-12"},[n("p",[t._v("You don't have categories yet")])])],2)])},Tn=[],Gn=n("bc3a"),Un=n.n(Gn),Fn=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"edit-category p-2 mb-3"},[n("div",{staticClass:"edit-category__title mb-2"},[n("h5",[t._v(t._s(t.category.label))])]),n("div",{staticClass:"edit-category__edit d-flex justify-content-between"},[n("div",{staticClass:"mr-3"},[n("input",{directives:[{name:"model",rawName:"v-model",value:t.editingCategory.label,expression:"editingCategory.label"}],staticClass:"form-control",class:{"is-invalid":t.editedCategoryError.error},attrs:{type:"text",id:"editCategory",placeholder:"Category name"},domProps:{value:t.editingCategory.label},on:{input:function(e){e.target.composing||t.$set(t.editingCategory,"label",e.target.value)}}}),t.editedCategoryError.error?n("div",{staticClass:"invalid-feedback"},[t._v(t._s(t.editedCategoryError.errorMsg))]):t._e()]),n("div",{staticClass:"mb-2"},[n("button",{staticClass:"btn btn-primary mr-2",on:{click:t.editCategory}},[t._v("Edit")]),n("button",{staticClass:"btn btn-danger",on:{click:t.deleteCategory}},[t._v("Delete")])])])])},Vn=[],Yn={name:"Category",props:{category:{type:Object,default:0}},created:function(){this.editingCategory=Object(X["a"])({},this.category)},data:function(){return{editing:!1,editedCategory:this.category.label,editingCategory:{},editedCategoryError:{error:!1,errorMsg:""}}},methods:{editCategory:function(){this.editingCategory.label!==this.editedCategory&&this.$store.dispatch("editCategory",this.editingCategory)},deleteCategory:function(){this.$store.dispatch("deleteCategory",this.editingCategory),this.$store.dispatch("displayInfoBar",{color:"alert-danger",title:"".concat(this.editingCategory.label," removed!"),text:"You have deleteted one of your categories"})}}},Wn=Yn,zn=(n("560d"),Object(u["a"])(Wn,Fn,Vn,!1,null,"65059c60",null));zn.options.__file="Category.vue";var Rn=zn.exports,qn={name:"AccountCategories",components:{Category:Rn},data:function(){return{category:"",categoryError:{error:!1,errorMsg:""}}},computed:{categories:function(){return this.$store.getters.getCategories}},methods:{addCategory:function(){this.categoryError=j(this.category,"text"),this.categoryError.error||(this.$store.dispatch("addCategory",this.category),this.category="")}}},Jn=qn,Kn=(n("15db"),Object(u["a"])(Jn,On,Tn,!1,null,"744be048",null));Kn.options.__file="AccountCategories.vue";var Qn=Kn.exports,Hn=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"p-3"},[n("h4",{staticClass:"mb-4"},[t._v("Your Listings")]),n("button",{staticClass:"btn btn-primary",on:{click:t.toggleModal}},[t._v("Add Listing")]),n("div",{staticClass:"row mt-3"},t._l(t.listings,function(e,a){return n("listing",{key:a,attrs:{listing:e},on:{editListing:t.editListing,deleteListing:t.deleteListing}})})),n("account-listing-modal",{attrs:{show:t.accountListingModalShow,keyString:t.activeListing},on:{close:t.toggleModal}}),n("confirm-modal",{attrs:{show:t.confirmModalShow,title:"Do you want to delete this listing?","cancel-text":"Cancel","confirm-text":"Delete",text:"This listing will be deleted from your account"},on:{close:t.openConfirmModal,confirm:t.confirmDelete}})],1)},Xn=[],Zn=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("modal",{attrs:{show:t.show},on:{close:function(e){t.$emit("close")}}},[n("listing-form",{attrs:{"key-string":t.keyString},on:{close:function(e){t.$emit("close")}}})],1)},ta=[],ea=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"p-3 goal-form bg-white"},[n("div",{staticClass:"d-flex justify-content-between"},[n("h5",{staticClass:"m-0"},[t._v(t._s(t.title))]),n("span",{staticClass:"close",on:{click:function(e){t.$emit("close")}}},[n("i",{staticClass:"material-icons"},[t._v("clear")])])]),n("hr"),n("div",{},[n("div",{staticClass:"form-group mr-2"},[n("label",{attrs:{for:"name"}},[t._v("Name")]),n("input",{directives:[{name:"model",rawName:"v-model",value:t.listingData.name,expression:"listingData.name"}],staticClass:"form-control",attrs:{type:"text",id:"name",placeholder:"Name"},domProps:{value:t.listingData.name},on:{input:function(e){e.target.composing||t.$set(t.listingData,"name",e.target.value)}}}),t.nameError.error?n("div",{staticClass:"text-danger"},[t._v(t._s(t.nameError.errorMsg))]):t._e()]),n("div",{staticClass:"form-group mr-2"},[n("label",{attrs:{for:"bankName"}},[t._v("Bank Name")]),n("input",{directives:[{name:"model",rawName:"v-model",value:t.listingData.bankName,expression:"listingData.bankName"}],staticClass:"form-control",attrs:{type:"text",id:"bankName",placeholder:"Bank Name"},domProps:{value:t.listingData.bankName},on:{input:function(e){e.target.composing||t.$set(t.listingData,"bankName",e.target.value)}}}),t.bankNameError.error?n("div",{staticClass:"text-danger"},[t._v(t._s(t.bankNameError.errorMsg))]):t._e()]),n("div",{staticClass:"form-group mr-2"},[n("label",{attrs:{for:"bankAccountNumber"}},[t._v("Bank Account Number")]),n("input",{directives:[{name:"model",rawName:"v-model",value:t.listingData.bankAccountNumber,expression:"listingData.bankAccountNumber"}],staticClass:"form-control",attrs:{type:"text",id:"bankAccountNumber",placeholder:"Bank Account Number"},domProps:{value:t.listingData.bankAccountNumber},on:{input:function(e){e.target.composing||t.$set(t.listingData,"bankAccountNumber",e.target.value)}}}),t.bankAccountNumberError.error?n("div",{staticClass:"text-danger"},[t._v(t._s(t.bankAccountNumberError.errorMsg))]):t._e()])]),n("div",{staticClass:"d-flex justify-content-end"},[n("button",{staticClass:"btn btn-outline-primary btn-block",on:{click:t.add}},[t._v(t._s(t.buttonText))])])])},na=[],aa={name:"ListingForm",props:{keyString:{type:String,default:""}},created:function(){this.keyString&&(this.listingData=Object(X["a"])({},this.$store.getters.getListing(this.keyString)))},data:function(){return{listingData:{name:"",bankName:"",bankAccountNumber:""},nameError:{error:!1,errorMsg:""},bankNameError:{error:!1,errorMsg:""},bankAccountNumberError:{error:!1,errorMsg:""},title:this.keyString?"Edit Listing":"Add Listing",buttonText:this.keyString?"Edit":"Add"}},methods:{add:function(){var t=this;this.nameError=j(this.listingData.name,"text"),this.bankNameError=j(this.listingData.bankName,"text"),this.bankAccountNumberError=j(this.listingData.bankAccountNumber,"text");var e=!this.nameError.error&&!this.bankNameError.error&&!this.bankAccountNumberError.error;e&&(this.keyString?this.$store.dispatch("editListing",this.listingData).then(function(e){return t.$emit("close")}):this.$store.dispatch("addListing",this.listingData).then(function(e){return t.$emit("close")}))}}},sa=aa,ia=(n("5cdc"),Object(u["a"])(sa,ea,na,!1,null,"6db89479",null));ia.options.__file="ListingForm.vue";var oa=ia.exports,ra={name:"AccountListingModal",components:{ListingForm:oa,Modal:It},props:{show:{type:Boolean,default:!1},keyString:{type:String,default:""}}},ca=ra,la=(n("a61a"),Object(u["a"])(ca,Zn,ta,!1,null,"23d98028",null));la.options.__file="AccountListingModal.vue";var ua=la.exports,da=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"col-lg-4 mb-2"},[n("div",{staticClass:"listing p-2"},[n("div",{staticClass:"d-flex justify-content-between"},[n("h3",[t._v(t._s(t.listing.name))]),n("div",[n("i",{staticClass:"material-icons text-primary",on:{click:t.editListing}},[t._v("edit")]),n("i",{staticClass:"material-icons text-danger",on:{click:t.deleteListing}},[t._v("close")])])]),n("p",[t._v(t._s(t.listing.bankName))]),n("p",[t._v(t._s(t.listing.bankAccountNumber))])])])},ga=[],ma={name:"Listing",props:{listing:{type:Object,required:!0}},methods:{editListing:function(){this.$emit("editListing",this.listing.key)},deleteListing:function(){this.$emit("deleteListing",this.listing.key)}}},fa=ma,pa=(n("7665"),Object(u["a"])(fa,da,ga,!1,null,"cf3a4fa0",null));pa.options.__file="Listing.vue";var ha=pa.exports,va={name:"AccountListings",components:{ConfirmModal:Dt,Listing:ha,AccountListingModal:ua},data:function(){return{accountListingModalShow:!1,activeListing:"",confirmModalShow:!1}},computed:{listings:function(){return this.$store.getters.getListings}},methods:{toggleModal:function(){this.accountListingModalShow=!this.accountListingModalShow},editListing:function(t){this.activeListing=t,this.accountListingModalShow=!0},openConfirmModal:function(){this.confirmModalShow=!this.confirmModalShow},deleteListing:function(t){this.openConfirmModal(),this.activeListing=t},confirmDelete:function(){this.$store.dispatch("deleteListing",this.activeListing),this.openConfirmModal()}}},ba=va,ya=(n("3435"),Object(u["a"])(ba,Hn,Xn,!1,null,"35a57ffe",null));ya.options.__file="AccountListings.vue";var _a=ya.exports,Ca={name:"AccountSettings",components:{AccountListings:_a,AccountCategories:Qn,AccountInformation:An}},ka=Ca,xa=(n("01cd"),Object(u["a"])(ka,En,$n,!1,null,"74a9edc2",null));xa.options.__file="AccountSettings.vue";var wa=xa.exports,Ba=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"container"},[n("div",{staticClass:"row"},[n("div",{staticClass:"col-md-12"},[n("div",{staticClass:"bg-white shadow my-5 p-3"},[n("h3",{staticClass:"text-dark text-center mb-5"},[t._v("Choose a Listing")]),t._l(t.listings,function(e,a){return n("div",{key:a,staticClass:"listing p-2 mb-4",on:{click:function(n){t.goToListing(e.key)}}},[n("h5",{staticClass:"mb-0"},[t._v(t._s(e.name))])])})],2)])])])},ja=[],Ia={name:"Listings",created:function(){this.$store.commit("setIncomesLoaded",!1),this.$store.commit("setExpensesLoaded",!1),this.$store.commit("setPlannedBudgetsLoaded",!1),this.$store.commit("setGoalsLoaded",!1),this.$store.commit("setPlannedBudgets",[]),this.$store.commit("setGoals",[])},computed:{listings:function(){return this.$store.getters.getListings}},methods:{goToListing:function(t){this.$router.push("/dashboard/listings/".concat(t))}}},Ma=Ia,Ea=(n("ee7d"),Object(u["a"])(Ma,Ba,ja,!1,null,"307d2b7d",null));Ea.options.__file="Listings.vue";var $a=Ea.exports,Da=n("2f62"),La={idToken:null,userId:null},Sa={authUser:function(t,e){t.idToken=e.token,t.userId=e.userId},clearAuthData:function(t){t.idToken=null,t.userId=null}},Pa={register:function(t,e){t.commit;var n=t.dispatch;return Un.a.post("https://www.googleapis.com/identitytoolkit/v3/relyingparty/signupNewUser?key=AIzaSyDQQfJNW09K_qFc5tKFtxV1NpWLkfG8Cqo",{email:e.email,password:e.password,returnSecureToken:!0}).then(function(t){console.log(t),n("login",{token:t.data.idToken,userId:t.data.localId});var a=new Date,s=new Date(a.getTime()+1e3*t.data.expiresIn);localStorage.setItem("token",t.data.idToken),localStorage.setItem("userId",t.data.localId),localStorage.setItem("expiresIn",s),Un.a.post("https://cashwise-a8d6a.firebaseio.com/users.json",{userId:t.data.localId,userName:e.name,budget:""})})},login:function(t,e){var n=t.commit,a=t.dispatch;return Un.a.post("https://www.googleapis.com/identitytoolkit/v3/relyingparty/verifyPassword?key=AIzaSyDQQfJNW09K_qFc5tKFtxV1NpWLkfG8Cqo",{email:e.email,password:e.password,returnSecureToken:!0}).then(function(t){console.log(t),n("authUser",{token:t.data.idToken,userId:t.data.localId});var e=new Date,s=new Date(e.getTime()+1e3*t.data.expiresIn);localStorage.setItem("token",t.data.idToken),localStorage.setItem("userId",t.data.localId),localStorage.setItem("expiresIn",s),a("setLogoutTimer")})},tryAutoLogin:function(t){var e=t.commit,n=localStorage.getItem("token");if(n){var a=new Date(localStorage.getItem("expiresIn")),s=new Date;if(!(s>=a)){var i=localStorage.getItem("userId");e("authUser",{token:n,userId:i})}}},logout:function(t){var e=t.commit;e("clearAuthData"),localStorage.removeItem("expiresIn"),localStorage.removeItem("token"),localStorage.removeItem("userId")},setLogoutTimer:function(t){var e=t.dispatch;setTimeout(function(){return e("logout")},9e5)}},Na={isAuthenticated:function(t){return null!==t.idToken},getUserId:function(t){return t.userId}},Aa={state:La,mutations:Sa,actions:Pa,getters:Na},Oa={user:{},loading:!1},Ta={setUser:function(t,e){t.user=e},setUserName:function(t,e){t.user.userName=e},startRequest:function(t){t.loading=!0},finishRequest:function(t){t.loading=!1},addCategory:function(t,e){t.user.categories.push(e)},editCategory:function(t,e){var n=t.user.categories.findIndex(function(t){return t.key===e.key});t.user.categories.splice(n,1,e)},deleteCategory:function(t,e){var n=t.user.categories.findIndex(function(t){return t.key===e.key});t.user.categories.splice(n,1)}},Ga={fetchUser:function(t,e){var n=t.commit,a=t.dispatch;n("startRequest"),Un.a.get("https://cashwise-a8d6a.firebaseio.com/users.json").then(function(t){for(var s in t.data)if(t.data[s].userId===e){var i=[];for(var o in t.data[s].categories)i.push(Object(X["a"])({},t.data[s].categories[o],{key:o}));var r=[];for(var c in t.data[s].listings)r.push({bankName:t.data[s].listings[c].bankName,name:t.data[s].listings[c].name,bankAccountNumber:t.data[s].listings[c].bankAccountNumber,key:c});n("setUser",{userName:t.data[s].userName,userId:t.data[s].userId,key:s,categories:i}),a("setListings",r)}n("finishRequest")}).catch(function(t){return console.error(t)})},changeUserName:function(t,e){var n=t.commit,a=t.state;Un.a.patch("https://cashwise-a8d6a.firebaseio.com/users/".concat(a.user.key,".json"),{userName:e}).then(function(t){return n("setUserName",e)}).catch(function(t){return console.error(t)})},addCategory:function(t,e){var n=t.commit;Un.a.post("https://cashwise-a8d6a.firebaseio.com/users/".concat(Oa.user.key,"/categories.json"),{label:e}).then(function(t){n("addCategory",{label:e,key:t.data.name})}).catch(function(t){return console.error(t)})},editCategory:function(t,e){var n=t.commit;Un.a.patch("https://cashwise-a8d6a.firebaseio.com/users/".concat(Oa.user.key,"/categories/").concat(e.key,".json"),{label:e.label}).then(function(t){return n("editCategory",e)}).catch(function(t){return console.error(t)})},deleteCategory:function(t,e){var n=t.commit;Un.a.delete("https://cashwise-a8d6a.firebaseio.com/users/".concat(Oa.user.key,"/categories/").concat(e.key,".json")).then(function(t){return n("deleteCategory",e)}).catch(function(t){return console.error(t)})}},Ua={getUser:function(t){return t.user},getUserName:function(t){return t.user.userName},getUserLoading:function(t){return t.loading},getCategories:function(t){return t.user.categories},getBudget:function(t){return t.user.budget}},Fa={state:Oa,mutations:Ta,actions:Ga,getters:Ua},Va={show:!1,infoBar:{}},Ya={setShow:function(t,e){t.show=e},setInfoBar:function(t,e){t.infoBar=e}},Wa={displayInfoBar:function(t,e){var n=t.commit;n("setInfoBar",e),n("setShow",!0),setTimeout(function(){return n("setShow",!1)},3e3)}},za={getInfoBarShow:function(t){return t.show},getInfoBar:function(t){return t.infoBar}},Ra={state:Va,mutations:Ya,actions:Wa,getters:za},qa={incomes:[],incomesLoaded:!1},Ja={setIncomes:function(t,e){t.incomes=e},addIncome:function(t,e){t.incomes.push(e)},editIncome:function(t,e){var n=t.incomes.findIndex(function(t){return t.key===e.key});t.incomes.splice(n,1,e)},deleteIncome:function(t,e){var n=t.incomes.findIndex(function(t){return t.key===e});t.incomes.splice(n,1)},setIncomesLoaded:function(t,e){t.incomesLoaded=e}},Ka={setIncomes:function(t,e){var n=t.commit;n("setIncomes",e)},fetchIncomes:function(t,e){var n=t.commit;return n("setIncomes",[]),Un.a.get("https://cashwise-a8d6a.firebaseio.com/users/".concat(Fa.state.user.key,"/listings/").concat(e,"/incomes.json")).then(function(t){var e=[];for(var a in t.data)e.push(Object(X["a"])({},t.data[a],{key:a}));n("setIncomes",e),n("setIncomesLoaded",!0)})},addIncome:function(t,e){var n=t.commit,a=e.income,s=e.listingId;return Un.a.post("https://cashwise-a8d6a.firebaseio.com/users/".concat(Fa.state.user.key,"/listings/").concat(s,"/incomes.json"),a).then(function(t){a.key=t.data.name,n("addIncome",a)}).catch(function(t){return console.error(t)})},editIncome:function(t,e){var n=t.commit,a=e.income,s=e.listingId;Un.a.patch("https://cashwise-a8d6a.firebaseio.com/users/".concat(Fa.state.user.key,"/listings/").concat(s,"/incomes/").concat(a.key,".json"),a).then(function(t){return n("editIncome",a)}).catch(function(t){return console.error(t)})},deleteIncome:function(t,e){var n=t.commit,a=e.key,s=e.listingId;Un.a.delete("https://cashwise-a8d6a.firebaseio.com/users/".concat(Fa.state.user.key,"/listings/").concat(s,"/incomes/").concat(a,".json")).then(function(t){return n("deleteIncome",a)}).catch(function(t){return console.error(t)})},moveIncome:function(t,e){var n=t.commit,a=e.income,s=e.fromListing,i=e.toListing;Un.a.delete("https://cashwise-a8d6a.firebaseio.com/users/".concat(Fa.state.user.key,"/listings/").concat(s,"/incomes/").concat(a.key,".json")).then(function(t){return n("deleteIncome",a.key)}).catch(function(t){return console.error(t)}),Un.a.post("https://cashwise-a8d6a.firebaseio.com/users/".concat(Fa.state.user.key,"/listings/").concat(i,"/incomes.json"),a).then(function(t){console.log(t)}).catch(function(t){return console.error(t)})}},Qa={getUserIncomes:function(t){return t.incomes},getIncome:function(t){return t.incomes?t.incomes.reduce(function(t,e){return t+parseInt(e.value)},0):0},getUserIncome:function(t){return function(e){return t.incomes.find(function(t){return t.key===e})}},getIncomesLoaded:function(t){return t.incomesLoaded}},Ha={state:qa,getters:Qa,mutations:Ja,actions:Ka},Xa=(n("96cf"),n("3040")),Za={plannedBudgets:[],plannedBudgetsLoaded:!1},ts={setPlannedBudgets:function(t,e){t.plannedBudgets=e},addPlannedBudget:function(t,e){t.plannedBudgets.push(e)},editPlannedBudget:function(t,e){var n=t.plannedBudgets.findIndex(function(t){return t.key===e.key});t.plannedBudgets.splice(n,1,e)},deletePlannedBudget:function(t,e){var n=t.plannedBudgets.findIndex(function(t){return t.key===e});t.plannedBudgets.splice(n,1)},setPlannedBudgetsLoaded:function(t,e){t.plannedBudgetsLoaded=e}},es={setPlannedBudgets:function(t,e){var n=t.commit;n("setPlannedBudgets",e)},fetchPlannedBudgets:function(){var t=Object(Xa["a"])(regeneratorRuntime.mark(function t(e,n){var a,s,i,o,r;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return a=e.commit,a("setPlannedBudgets",[]),t.next=4,Un.a.get("https://cashwise-a8d6a.firebaseio.com/users/".concat(Fa.state.user.key,"/listings/").concat(n,"/plannedBudgets.json"));case 4:for(r in s=t.sent,i=s.data,o=[],i)o.push(Object(X["a"])({},i[r],{key:r}));a("setPlannedBudgets",o),a("setPlannedBudgetsLoaded",!0);case 10:case"end":return t.stop()}},t,this)}));return function(e,n){return t.apply(this,arguments)}}(),addPlannedBudget:function(){var t=Object(Xa["a"])(regeneratorRuntime.mark(function t(e,n){var a,s,i,o;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return a=e.commit,s=n.plannedBudget,i=n.listingId,t.prev=2,t.next=5,Un.a.post("https://cashwise-a8d6a.firebaseio.com/users/".concat(Fa.state.user.key,"/listings/").concat(i,"/plannedBudgets.json"),s);case 5:o=t.sent,s.key=o.data.name,a("addPlannedBudget",s),t.next=13;break;case 10:return t.prev=10,t.t0=t["catch"](2),t.abrupt("return",console.error(t.t0));case 13:case"end":return t.stop()}},t,this,[[2,10]])}));return function(e,n){return t.apply(this,arguments)}}(),editPlannedBudget:function(t,e){var n=t.commit,a=e.plannedBudget,s=e.listingId;Un.a.patch("https://cashwise-a8d6a.firebaseio.com/users/".concat(Fa.state.user.key,"/listings/").concat(s,"/plannedBudgets/").concat(a.key,".json"),a).then(function(t){return n("editPlannedBudget",a)}).catch(function(t){return console.error(t)})},deletePlannedBudget:function(t,e){var n=t.commit,a=e.key,s=e.listingId;Un.a.delete("https://cashwise-a8d6a.firebaseio.com/users/".concat(Fa.state.user.key,"/listings/").concat(s,"/plannedBudgets/").concat(a,".json")).then(function(t){return n("deletePlannedBudget",a)}).catch(function(t){return console.error(t)})}},ns={getUserPlannedBudgets:function(t){return t.plannedBudgets},getUserPlannedBudget:function(t){return function(e){return t.plannedBudgets.find(function(t){return t.key===e})}},getPlannedBudgetsLoaded:function(t){return t.plannedBudgetsLoaded}},as={state:Za,mutations:ts,actions:es,getters:ns},ss={expenses:[],expensesLoaded:!1},is={setExpenses:function(t,e){t.expenses=e},addExpense:function(t,e){t.expenses.push(e)},editExpense:function(t,e){var n=t.expenses.findIndex(function(t){return t.id===e.id});t.expenses.splice(n,1,e)},deleteExpense:function(t,e){var n=t.expenses.findIndex(function(t){return t.key===e});t.expenses.splice(n,1)},setExpensesLoaded:function(t,e){t.expensesLoaded=e}},os={setExpenses:function(t,e){var n=t.commit;n("setExpenses",e)},fetchExpenses:function(t,e){var n=t.commit;return n("setExpenses",[]),Un.a.get("https://cashwise-a8d6a.firebaseio.com/users/".concat(Fa.state.user.key,"/listings/").concat(e,"/expenses.json")).then(function(t){var e=[];for(var a in t.data)e.push(Object(X["a"])({},t.data[a],{key:a}));n("setExpenses",e),n("setExpensesLoaded",!0)})},addExpense:function(t,e){var n=t.commit,a=e.expense,s=e.listingId;return Un.a.post("https://cashwise-a8d6a.firebaseio.com/users/".concat(Fa.state.user.key,"/listings/").concat(s,"/expenses.json"),a).then(function(t){a.key=t.data.name,n("addExpense",a)}).catch(function(t){return console.error(t)})},editExpense:function(t,e){var n=t.commit,a=e.expense,s=e.listingId;Un.a.patch("https://cashwise-a8d6a.firebaseio.com/users/".concat(Fa.state.user.key,"/listings/").concat(s,"/expenses/").concat(a.key,".json"),a).then(function(t){return n("editExpense",a)}).catch(function(t){return console.error(t)})},deleteExpense:function(t,e){var n=t.commit,a=e.key,s=e.listingId;Un.a.delete("https://cashwise-a8d6a.firebaseio.com/users/".concat(Fa.state.user.key,"/listings/").concat(s,"/expenses/").concat(a,".json")).then(function(t){return n("deleteExpense",a)}).catch(function(t){return console.error(t)})},moveExpense:function(t,e){var n=t.commit,a=e.expense,s=e.fromListing,i=e.toListing;Un.a.delete("https://cashwise-a8d6a.firebaseio.com/users/".concat(Fa.state.user.key,"/listings/").concat(s,"/expenses/").concat(a.key,".json")).then(function(t){return n("deleteExpense",a.key)}).catch(function(t){return console.error(t)}),Un.a.post("https://cashwise-a8d6a.firebaseio.com/users/".concat(Fa.state.user.key,"/listings/").concat(i,"/expenses.json"),a).then(function(t){console.log(t)}).catch(function(t){return console.error(t)})}},rs={getUserExpenses:function(t){return t.expenses},getExpense:function(t){return t.expenses?t.expenses.reduce(function(t,e){return t+parseInt(e.value)},0):0},getUserExpense:function(t){return function(e){return t.expenses.find(function(t){return t.key===e})}},getExpensesLoaded:function(t){return t.expensesLoaded}},cs={state:ss,getters:rs,mutations:is,actions:os},ls={goals:[],goalsLoaded:!1},us={setGoals:function(t,e){t.goals=e},addGoal:function(t,e){t.goals.push(e)},editGoal:function(t,e){var n=t.goals.findIndex(function(t){return t.key===e.key});t.goals.splice(n,1,e)},deleteGoal:function(t,e){var n=t.goals.findIndex(function(t){return t.key===e});t.goals.splice(n,1)},setGoalsLoaded:function(t,e){t.goalsLoaded=e}},ds={setGoals:function(t,e){var n=t.commit;n("setGoals",e)},fetchGoals:function(){var t=Object(Xa["a"])(regeneratorRuntime.mark(function t(e,n){var a,s,i,o;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return a=e.commit,a("setGoals",[]),t.next=4,Un.a.get("https://cashwise-a8d6a.firebaseio.com/users/".concat(Fa.state.user.key,"/listings/").concat(n,"/goals.json"));case 4:for(o in s=t.sent,i=[],s.data)i.push(Object(X["a"])({},s.data[o],{key:o}));a("setGoals",i),a("setGoalsLoaded",!0);case 9:case"end":return t.stop()}},t,this)}));return function(e,n){return t.apply(this,arguments)}}(),addGoal:function(){var t=Object(Xa["a"])(regeneratorRuntime.mark(function t(e,n){var a,s,i,o;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return a=e.commit,s=n.goal,i=n.listingId,t.prev=2,t.next=5,Un.a.post("https://cashwise-a8d6a.firebaseio.com/users/".concat(Fa.state.user.key,"/listings/").concat(i,"/goals.json"),s);case 5:o=t.sent,s.key=o.data.name,a("addGoal",s),t.next=13;break;case 10:return t.prev=10,t.t0=t["catch"](2),t.abrupt("return",console.error(t.t0));case 13:case"end":return t.stop()}},t,this,[[2,10]])}));return function(e,n){return t.apply(this,arguments)}}(),editGoal:function(t,e){var n=t.commit,a=e.goal,s=e.listingId;Un.a.patch("https://cashwise-a8d6a.firebaseio.com/users/".concat(Fa.state.user.key,"/listings/").concat(s,"/goals/").concat(a.key,".json"),a).then(function(t){return n("editGoal",a)}).catch(function(t){return console.error(t)})},deleteGoal:function(t,e){var n=t.commit,a=e.key,s=e.listingId;Un.a.delete("https://cashwise-a8d6a.firebaseio.com/users/".concat(Fa.state.user.key,"/listings/").concat(s,"/goals/").concat(a,".json")).then(function(t){return n("deleteGoal",a)}).catch(function(t){return console.error(t)})}},gs={getUserGoals:function(t){return t.goals},getUserGoal:function(t){return function(e){return t.goals.find(function(t){return t.key===e})}},getGoalsLoaded:function(t){return t.goalsLoaded}},ms={state:ls,getters:gs,mutations:us,actions:ds},fs={listings:[],listing:{}},ps={addListing:function(t,e){t.listings.push(e)},setListings:function(t,e){t.listings=e},editListing:function(t,e){var n=t.listings.findIndex(function(t){return t.key===e.key});t.listings.splice(n,1,e)},deleteListing:function(t,e){var n=t.listings.findIndex(function(t){return t.key===e});t.listings.splice(n,1)}},hs={addListing:function(){var t=Object(Xa["a"])(regeneratorRuntime.mark(function t(e,n){var a;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return a=e.commit,t.abrupt("return",Un.a.post("https://cashwise-a8d6a.firebaseio.com/users/".concat(Fa.state.user.key,"/listings.json"),n).then(function(t){n.key=t.data.name,a("addListing",n)}).catch(function(t){return console.error(t)}));case 2:case"end":return t.stop()}},t,this)}));return function(e,n){return t.apply(this,arguments)}}(),setListings:function(t,e){var n=t.commit;n("setListings",e)},editListing:function(t,e){var n=t.commit;Un.a.patch("https://cashwise-a8d6a.firebaseio.com/users/".concat(Fa.state.user.key,"/listings/").concat(e.key,".json"),e).then(function(t){return n("editListing",e)}).catch(function(t){return console.error(t)})},deleteListing:function(t,e){var n=t.commit;Un.a.delete("https://cashwise-a8d6a.firebaseio.com/users/".concat(Fa.state.user.key,"/listings/").concat(e,".json")).then(function(t){return n("deleteListing",e)}).catch(function(t){return console.error(t)})}},vs={getListings:function(t){return t.listings},getListing:function(t){return function(e){return t.listings.find(function(t){return t.key===e})}}},bs={state:fs,mutations:ps,actions:hs,getters:vs},ys={calcData:[],avaregeData:[]},_s={setCalcData:function(t,e){t.calcData=e},setAvaregeData:function(t,e){t.avaregeData=e}},Cs={setCalcData:function(t,e){var n=t.commit;n("setCalcData",e)},setAvaregeData:function(t,e){var n=t.commit;n("setAvaregeData",e)}},ks={getCalcData:function(t){return t.calcData},getAvaregeData:function(t){return t.avaregeData}},xs={state:ys,mutations:_s,actions:Cs,getters:ks};a["a"].use(Da["a"]);var ws=new Da["a"].Store({modules:{auth:Aa,user:Fa,infoBar:Ra,incomes:Ha,plannedBudgets:as,expenses:cs,goals:ms,listings:bs,calc:xs}}),Bs=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("input",{ref:"fileInput",attrs:{type:"file"},on:{change:function(e){t.processFile(e)}}}),t.calcData.length?n("table",{staticClass:"table table-hover mt-4"},[n("thead",[n("tr",[n("th",{attrs:{scope:"col"}},[t._v("ID")]),t._l(t.months,function(e,a){return n("th",{key:a,attrs:{scope:"col"}},[t._v(t._s(e))])})],2)]),n("tbody",t._l(t.calcData,function(e,a){return n("tr",{key:a},[n("th",{attrs:{scope:"row"}},[t._v("#"+t._s(a+1))]),t._l(e,function(e,a){return n("td",{key:a},[t._v(t._s(e))])})],2)}))]):t._e(),t.calcData.length?n("div",{staticClass:"row"},t._l(t.calcData,function(e,a){return n("div",{key:a,staticClass:"col-lg-4"},[n("line-chart",{attrs:{labels:t.months,series:[e],name:"year"+a}})],1)})):t._e(),n("div",{staticClass:"row"},[n("div",{staticClass:"col-lg-6"},[t.calcData.length&&!t.avData.length?n("button",{staticClass:"btn btn-primary",on:{click:t.calculatePlannedBudgets}},[t._v("Calculate planned budgets")]):t._e(),t.avData.length?n("div",{staticClass:"form-group mt-4 mb-2"},[n("label",{attrs:{for:"name"}},[t._v("Planned Budgets Name")]),n("input",{directives:[{name:"model",rawName:"v-model",value:t.plannedBudgetsName,expression:"plannedBudgetsName"}],staticClass:"form-control",attrs:{type:"text",id:"plannedbudgetsname",placeholder:"Planned Budgets Name"},domProps:{value:t.plannedBudgetsName},on:{input:function(e){e.target.composing||(t.plannedBudgetsName=e.target.value)}}})]):t._e(),t.avData.length?n("button",{staticClass:"btn btn-primary",on:{click:t.makePlannedBudgets}},[t._v("Make planned budgets")]):t._e()]),t.avData.length?n("div",{staticClass:"col-lg-6"},[n("line-chart",{attrs:{labels:t.months,series:[t.avData],name:"avData"}})],1):t._e()])])},js=[],Is=(n("28a5"),{name:"Calculator",components:{LineChart:Oe},data:function(){return{fileData:null,calculatorData:[],plannedBudgetsName:"",months:["Jan","Feb","Mar","Apr","May","June","July","Aug","Sept","Oct","Nov","Dec"]}},computed:{calcData:function(){return this.$store.getters.getCalcData},avData:function(){return this.$store.getters.getAvaregeData},listingId:function(){return this.$route.params.id}},methods:{processFile:function(t){var e=this;this.fileData=t.target.files[0];var n=new FileReader;n.readAsText(this.fileData,"UTF-8"),n.onload=function(t){var n=t.target.result.split("\n").map(function(t){return t.split(",").map(function(t){return parseInt(t)})});e.$store.dispatch("setCalcData",n)}},calculatePlannedBudgets:function(){var t=this,e=new Array(12).fill(0,0,13);this.calcData.forEach(function(t){t.forEach(function(t,n){e[n]+=t})});var n=e.map(function(e){return Math.ceil(e/t.calcData.length)});this.$store.dispatch("setAvaregeData",n)},makePlannedBudgets:function(){var t=this;this.avData.forEach(function(e,n){var a={oneTimeOnly:"one",budget:"-",description:"".concat(t.plannedBudgetsName," - ").concat(t.months[n]),value:e,category:"Calculated data",date:new Date("2018/".concat(t.months[n])),subscription:"One time"};t.$store.dispatch("addPlannedBudget",{plannedBudget:a,listingId:t.listingId}).then(function(t){})})}}}),Ms=Is,Es=(n("1f10"),Object(u["a"])(Ms,Bs,js,!1,null,"12fb1d16",null));Es.options.__file="Calculator.vue";var $s=Es.exports;a["a"].use(v["a"]);var Ds=new v["a"]({mode:"history",base:"/",routes:[{path:"/",name:"home",component:T},{path:"/dashboard",name:"dashboard",component:Mn,redirect:"/dashboard/listings",beforeEnter:function(t,e,n){ws.state.auth.idToken?n():n("/")},children:[{path:"listings",component:$a},{path:"listings/:id",component:bn,redirect:"listings/:id/budget",children:[{path:"budget",component:Ft},{path:"planned-budgets",component:ve},{path:"goals",component:xe},{path:"charts",component:fn},{path:"calculator",component:$s}]},{path:"account-settings",component:wa}]},{path:"/about",name:"about",component:function(){return n.e("about").then(n.bind(null,"f820"))}}]});n("4989");a["a"].config.productionTip=!1,new a["a"]({router:Ds,store:ws,render:function(t){return t(h)}}).$mount("#app")},"57e0":function(t,e,n){"use strict";var a=n("7797"),s=n.n(a);s.a},"5c0b":function(t,e,n){"use strict";var a=n("2856"),s=n.n(a);s.a},"5cdc":function(t,e,n){"use strict";var a=n("f916"),s=n.n(a);s.a},"5d22":function(t,e,n){},6531:function(t,e,n){},"65b7":function(t,e,n){},"6caa":function(t,e,n){},"6d51":function(t,e,n){},"72dc":function(t,e,n){},7665:function(t,e,n){"use strict";var a=n("6531"),s=n.n(a);s.a},7797:function(t,e,n){},7924:function(t,e,n){},"7b11":function(t,e,n){},"7bba":function(t,e,n){"use strict";var a=n("5d22"),s=n.n(a);s.a},"7d2e":function(t,e,n){"use strict";var a=n("72dc"),s=n.n(a);s.a},8532:function(t,e,n){},"877f":function(t,e,n){"use strict";var a=n("7b11"),s=n.n(a);s.a},"97bc":function(t,e,n){},"9d17":function(t,e,n){},"9e16":function(t,e,n){},a1e0:function(t,e,n){},a59c:function(t,e,n){"use strict";var a=n("c9a7"),s=n.n(a);s.a},a61a:function(t,e,n){"use strict";var a=n("6caa"),s=n.n(a);s.a},a77a:function(t,e,n){"use strict";var a=n("e45e"),s=n.n(a);s.a},b103:function(t,e,n){},b3fb:function(t,e,n){"use strict";var a=n("de96"),s=n.n(a);s.a},b824:function(t,e,n){},bedf:function(t,e,n){},bf83:function(t,e,n){"use strict";var a=n("9d17"),s=n.n(a);s.a},bf88:function(t,e,n){},bfed:function(t,e,n){"use strict";var a=n("bedf"),s=n.n(a);s.a},c3ea:function(t,e,n){},c990:function(t,e,n){"use strict";var a=n("b103"),s=n.n(a);s.a},c9a7:function(t,e,n){},cca0:function(t,e,n){"use strict";var a=n("c3ea"),s=n.n(a);s.a},d01a:function(t,e,n){},d14b:function(t,e,n){},d69a:function(t,e,n){"use strict";var a=n("3690"),s=n.n(a);s.a},d848:function(t,e,n){},d890:function(t,e,n){},dd46:function(t,e,n){"use strict";var a=n("2611"),s=n.n(a);s.a},de96:function(t,e,n){},df20:function(t,e,n){"use strict";var a=n("65b7"),s=n.n(a);s.a},e000:function(t,e,n){"use strict";var a=n("2e91"),s=n.n(a);s.a},e10c:function(t,e,n){"use strict";var a=n("0fdc"),s=n.n(a);s.a},e45e:function(t,e,n){},e7e1:function(t,e,n){},ee7d:function(t,e,n){"use strict";var a=n("fef0"),s=n.n(a);s.a},f106:function(t,e,n){"use strict";var a=n("8532"),s=n.n(a);s.a},f53c:function(t,e,n){"use strict";var a=n("3598"),s=n.n(a);s.a},f6dd:function(t,e,n){"use strict";var a=n("97bc"),s=n.n(a);s.a},f916:function(t,e,n){},fc57:function(t,e,n){"use strict";var a=n("9e16"),s=n.n(a);s.a},fef0:function(t,e,n){}});
//# sourceMappingURL=app.842aec96.js.map